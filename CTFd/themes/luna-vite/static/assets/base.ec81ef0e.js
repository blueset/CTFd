var Rr=Object.defineProperty;var Fr=(e,n,t)=>n in e?Rr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Ut=(e,n,t)=>(Fr(e,typeof n!="symbol"?n+"":n,t),t);import{d as Te,a as Zt,c as yt,b as Hr}from"./duration.c050dc80.js";import{i as Br,a as Xt,d as an}from"./notificationCounter.4f4e1e9f.js";var ye=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ye<"u"&&ye,ke={searchParams:"URLSearchParams"in ye,iterable:"Symbol"in ye&&"iterator"in Symbol,blob:"FileReader"in ye&&"Blob"in ye&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in ye,arrayBuffer:"ArrayBuffer"in ye};function jr(e){return e&&DataView.prototype.isPrototypeOf(e)}if(ke.arrayBuffer)var $r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],qr=ArrayBuffer.isView||function(e){return e&&$r.indexOf(Object.prototype.toString.call(e))>-1};function jt(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function pn(e){return typeof e!="string"&&(e=String(e)),e}function mn(e){var n={next:function(){var t=e.shift();return{done:t===void 0,value:t}}};return ke.iterable&&(n[Symbol.iterator]=function(){return n}),n}function ue(e){this.map={},e instanceof ue?e.forEach(function(n,t){this.append(t,n)},this):Array.isArray(e)?e.forEach(function(n){this.append(n[0],n[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(n){this.append(n,e[n])},this)}ue.prototype.append=function(e,n){e=jt(e),n=pn(n);var t=this.map[e];this.map[e]=t?t+", "+n:n};ue.prototype.delete=function(e){delete this.map[jt(e)]};ue.prototype.get=function(e){return e=jt(e),this.has(e)?this.map[e]:null};ue.prototype.has=function(e){return this.map.hasOwnProperty(jt(e))};ue.prototype.set=function(e,n){this.map[jt(e)]=pn(n)};ue.prototype.forEach=function(e,n){for(var t in this.map)this.map.hasOwnProperty(t)&&e.call(n,this.map[t],t,this)};ue.prototype.keys=function(){var e=[];return this.forEach(function(n,t){e.push(t)}),mn(e)};ue.prototype.values=function(){var e=[];return this.forEach(function(n){e.push(n)}),mn(e)};ue.prototype.entries=function(){var e=[];return this.forEach(function(n,t){e.push([t,n])}),mn(e)};ke.iterable&&(ue.prototype[Symbol.iterator]=ue.prototype.entries);function sn(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function Yn(e){return new Promise(function(n,t){e.onload=function(){n(e.result)},e.onerror=function(){t(e.error)}})}function Vr(e){var n=new FileReader,t=Yn(n);return n.readAsArrayBuffer(e),t}function Gr(e){var n=new FileReader,t=Yn(n);return n.readAsText(e),t}function Ur(e){for(var n=new Uint8Array(e),t=new Array(n.length),i=0;i<n.length;i++)t[i]=String.fromCharCode(n[i]);return t.join("")}function Pn(e){if(e.slice)return e.slice(0);var n=new Uint8Array(e.byteLength);return n.set(new Uint8Array(e)),n.buffer}function Jn(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:ke.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:ke.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:ke.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():ke.arrayBuffer&&ke.blob&&jr(e)?(this._bodyArrayBuffer=Pn(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ke.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||qr(e))?this._bodyArrayBuffer=Pn(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ke.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ke.blob&&(this.blob=function(){var e=sn(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=sn(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(Vr)}),this.text=function(){var e=sn(this);if(e)return e;if(this._bodyBlob)return Gr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ur(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ke.formData&&(this.formData=function(){return this.text().then(Yr)}),this.json=function(){return this.text().then(JSON.parse)},this}var Xr=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Wr(e){var n=e.toUpperCase();return Xr.indexOf(n)>-1?n:e}function wt(e,n){if(!(this instanceof wt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');n=n||{};var t=n.body;if(e instanceof wt){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,n.headers||(this.headers=new ue(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!t&&e._bodyInit!=null&&(t=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=n.credentials||this.credentials||"same-origin",(n.headers||!this.headers)&&(this.headers=new ue(n.headers)),this.method=Wr(n.method||this.method||"GET"),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&t)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(t),(this.method==="GET"||this.method==="HEAD")&&(n.cache==="no-store"||n.cache==="no-cache")){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+new Date().getTime());else{var a=/\?/;this.url+=(a.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}wt.prototype.clone=function(){return new wt(this,{body:this._bodyInit})};function Yr(e){var n=new FormData;return e.trim().split("&").forEach(function(t){if(t){var i=t.split("="),a=i.shift().replace(/\+/g," "),c=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(a),decodeURIComponent(c))}}),n}function Jr(e){var n=new ue,t=e.replace(/\r?\n[\t ]+/g," ");return t.split("\r").map(function(i){return i.indexOf(`
`)===0?i.substr(1,i.length):i}).forEach(function(i){var a=i.split(":"),c=a.shift().trim();if(c){var d=a.join(":").trim();n.append(c,d)}}),n}Jn.call(wt.prototype);function Ge(e,n){if(!(this instanceof Ge))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');n||(n={}),this.type="default",this.status=n.status===void 0?200:n.status,this.ok=this.status>=200&&this.status<300,this.statusText=n.statusText===void 0?"":""+n.statusText,this.headers=new ue(n.headers),this.url=n.url||"",this._initBody(e)}Jn.call(Ge.prototype);Ge.prototype.clone=function(){return new Ge(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ue(this.headers),url:this.url})};Ge.error=function(){var e=new Ge(null,{status:0,statusText:""});return e.type="error",e};var Qr=[301,302,303,307,308];Ge.redirect=function(e,n){if(Qr.indexOf(n)===-1)throw new RangeError("Invalid status code");return new Ge(null,{status:n,headers:{location:e}})};var bt=ye.DOMException;try{new bt}catch{bt=function(n,t){this.message=n,this.name=t;var i=Error(n);this.stack=i.stack},bt.prototype=Object.create(Error.prototype),bt.prototype.constructor=bt}function Qn(e,n){return new Promise(function(t,i){var a=new wt(e,n);if(a.signal&&a.signal.aborted)return i(new bt("Aborted","AbortError"));var c=new XMLHttpRequest;function d(){c.abort()}c.onload=function(){var v={status:c.status,statusText:c.statusText,headers:Jr(c.getAllResponseHeaders()||"")};v.url="responseURL"in c?c.responseURL:v.headers.get("X-Request-URL");var y="response"in c?c.response:c.responseText;setTimeout(function(){t(new Ge(y,v))},0)},c.onerror=function(){setTimeout(function(){i(new TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){i(new TypeError("Network request failed"))},0)},c.onabort=function(){setTimeout(function(){i(new bt("Aborted","AbortError"))},0)};function k(v){try{return v===""&&ye.location.href?ye.location.href:v}catch{return v}}c.open(a.method,k(a.url),!0),a.credentials==="include"?c.withCredentials=!0:a.credentials==="omit"&&(c.withCredentials=!1),"responseType"in c&&(ke.blob?c.responseType="blob":ke.arrayBuffer&&a.headers.get("Content-Type")&&a.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(c.responseType="arraybuffer")),n&&typeof n.headers=="object"&&!(n.headers instanceof ue)?Object.getOwnPropertyNames(n.headers).forEach(function(v){c.setRequestHeader(v,pn(n.headers[v]))}):a.headers.forEach(function(v,y){c.setRequestHeader(y,v)}),a.signal&&(a.signal.addEventListener("abort",d),c.onreadystatechange=function(){c.readyState===4&&a.signal.removeEventListener("abort",d)}),c.send(typeof a._bodyInit>"u"?null:a._bodyInit)})}Qn.polyfill=!0;ye.fetch||(ye.fetch=Qn,ye.Headers=ue,ye.Request=wt,ye.Response=Ge);const ve={urlRoot:"",csrfNonce:"",userMode:"",userName:"",userEmail:"",start:null,end:null,themeSettings:{}},Kr=window.fetch,Zr=(e,n)=>(n===void 0&&(n={method:"GET",credentials:"same-origin",headers:{}}),e=ve.urlRoot+e,n.headers===void 0&&(n.headers={}),n.credentials="same-origin",n.headers.Accept="application/json",n.headers["Content-Type"]="application/json",n.headers["CSRF-Token"]=ve.csrfNonce,Kr(e,n));Te.extend(Zt);function zr(){let e=document.querySelectorAll("[data-time]");for(const n of e){let t=n.dataset.time,i=n.dataset.timeFormat;n.innerText=Te(t).format(i)}}function ei(e){let n=0,t,i,a;if(e.length==0)return n;for(t=0,a=e.length;t<a;t++)i=e.charCodeAt(t),n=(n<<5)-n+i,n|=0;return n}function ti(e,n){$(n).select(),document.execCommand("copy"),$(e.target).tooltip({title:"Copied!",trigger:"manual"}),$(e.target).tooltip("show"),setTimeout(function(){$(e.target).tooltip("hide")},1500)}function ni(e){let n=0;for(let c=0;c<e.length;c++)n=e.charCodeAt(c)+((n<<5)-n),n=n&n;let t=(n%360+360)%360,i=(n%25+25)%25+75,a=(n%20+20)%20+40;return`hsl(${t}, ${i}%, ${a}%)`}function Kn(e){return new Promise((t,i)=>{const a=document.createElement("script");document.body.appendChild(a),a.onload=t,a.onerror=i,a.async=!0,a.src=e})}async function ri(e,n){B._internal.challenge={};let t=B.config,i=await ir(e);B._functions.challenge.displayChallenge&&B._functions.challenge.displayChallenge(i),Kn(t.urlRoot+i.type_data.scripts.view).then(()=>{const c=B._internal.challenge;c.data=i,c.preRender(),B._functions.challenge.renderChallenge?B._functions.challenge.renderChallenge(c):n&&n(c),c.postRender()})}async function ii(e,n){if(B._functions.challenge.submitChallenge){B._functions.challenge.submitChallenge(e,n);return}const i=await(await B.fetch("/api/v1/challenges/attempt",{method:"POST",body:JSON.stringify({challenge_id:e,submission:n})})).json();return B._functions.challenge.displaySubmissionResponse&&B._functions.challenge.displaySubmissionResponse(i),i}async function Zn(e){return await(await B.fetch(`/api/v1/hints/${e}`,{method:"GET"})).json()}async function zn(e){return await(await B.fetch("/api/v1/unlocks",{method:"POST",body:JSON.stringify({target:e,type:"hints"})})).json()}async function er(e){let t=(await Zn(e)).data;if(t.content){B._functions.challenge.displayHint(t);return}else if(await tr(t)){let a=zn(e);a.success?er(e):B._functions.challenge.displayUnlockError(a)}}async function tr(e){return B._functions.challenge.displayUnlock(e)}async function nr(e){return(await(await B.fetch(`/api/v1/challenges/${e}/solves`,{method:"GET"})).json()).data}async function oi(e){let n=await nr(e);if(B._functions.challenge.displaySolves){B._functions.challenge.displaySolves(n);return}}async function rr(){let t=(await(await B.fetch("/api/v1/challenges",{method:"GET"})).json()).data;return B._functions.challenges.sortChallenges&&(t=B._functions.sortChallenges(t)),t}async function ir(e){return(await(await B.fetch(`/api/v1/challenges/${e}`,{method:"GET"})).json()).data}async function ai(){let e=await rr();if(B._functions.challenges.displayChallenges){B._functions.challenges.displayChallenges(e);return}}async function si(){return(await(await B.fetch("/api/v1/scoreboard",{method:"GET"})).json()).data}async function ci(e){return(await(await B.fetch(`/api/v1/scoreboard/top/${e}`,{method:"GET"})).json()).data}async function ui(e){return await(await B.fetch("/api/v1/users/me",{method:"PATCH",body:JSON.stringify(e)})).json()}async function li(e){return await(await B.fetch("/api/v1/tokens",{method:"POST",body:JSON.stringify(e)})).json()}async function fi(e){return await(await B.fetch(`/api/v1/tokens/${e}`,{method:"DELETE"})).json()}async function di(e){return await(await B.fetch(`/api/v1/users/${e}/solves`,{method:"GET"})).json()}async function hi(e){return await(await B.fetch(`/api/v1/users/${e}/fails`,{method:"GET"})).json()}async function pi(e){return await(await B.fetch(`/api/v1/users/${e}/awards`,{method:"GET"})).json()}async function mi(){return await(await B.fetch("/api/v1/teams/me/members",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"}})).json()}async function _i(){return await(await B.fetch("/api/v1/teams/me",{method:"DELETE"})).json()}async function gi(e){return await(await B.fetch("/api/v1/teams/me",{method:"PATCH",body:JSON.stringify(e)})).json()}async function vi(e){return await(await B.fetch(`/api/v1/teams/${e}/solves`,{method:"GET"})).json()}async function yi(e){return await(await B.fetch(`/api/v1/teams/${e}/fails`,{method:"GET"})).json()}async function bi(e){return await(await B.fetch(`/api/v1/teams/${e}/awards`,{method:"GET"})).json()}function wi(e){const n=document.createElement("template");return n.innerHTML=e.trim(),n.content.firstChild}function or(e){const n=document.createElement("div");return n.innerText=e,n.innerHTML}var Yt={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,n){(function(t){var i=t.setTimeout,a=t.clearTimeout,c=t.XMLHttpRequest,d=t.XDomainRequest,k=t.ActiveXObject,v=t.EventSource,y=t.document,G=t.Promise,r=t.fetch,o=t.Response,s=t.TextDecoder,l=t.TextEncoder,_=t.AbortController;if(typeof window<"u"&&typeof y<"u"&&!("readyState"in y)&&y.body==null&&(y.readyState="loading",window.addEventListener("load",function(T){y.readyState="complete"},!1)),c==null&&k!=null&&(c=function(){return new k("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(T){function M(){}return M.prototype=T,new M}),Date.now||(Date.now=function(){return new Date().getTime()}),_==null){var w=r;r=function(T,M){var L=M.signal;return w(T,{headers:M.headers,credentials:M.credentials,cache:M.cache}).then(function(O){var j=O.body.getReader();return L._reader=j,L._aborted&&L._reader.cancel(),{status:O.status,statusText:O.statusText,headers:O.headers,body:{getReader:function(){return j}}}})},_=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function m(){this.bitsNeeded=0,this.codePoint=0}m.prototype.decode=function(T){function M(J,z,q){if(q===1)return J>=128>>z&&J<<z<=2047;if(q===2)return J>=2048>>z&&J<<z<=55295||J>=57344>>z&&J<<z<=65535;if(q===3)return J>=65536>>z&&J<<z<=1114111;throw new Error}function L(J,z){if(J===6*1)return z>>6>15?3:z>31?2:1;if(J===6*2)return z>15?3:2;if(J===6*3)return 3;throw new Error}for(var O=65533,j="",H=this.bitsNeeded,X=this.codePoint,re=0;re<T.length;re+=1){var Y=T[re];H!==0&&(Y<128||Y>191||!M(X<<6|Y&63,H-6,L(H,X)))&&(H=0,X=O,j+=String.fromCharCode(X)),H===0?(Y>=0&&Y<=127?(H=0,X=Y):Y>=192&&Y<=223?(H=6*1,X=Y&31):Y>=224&&Y<=239?(H=6*2,X=Y&15):Y>=240&&Y<=247?(H=6*3,X=Y&7):(H=0,X=O),H!==0&&!M(X,H,L(H,X))&&(H=0,X=O)):(H-=6,X=X<<6|Y&63),H===0&&(X<=65535?j+=String.fromCharCode(X):(j+=String.fromCharCode(55296+(X-65535-1>>10)),j+=String.fromCharCode(56320+(X-65535-1&1023))))}return this.bitsNeeded=H,this.codePoint=X,j};var N=function(){try{return new s().decode(new l().encode("test"),{stream:!0})==="test"}catch(T){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+T)}return!1};(s==null||l==null||!N())&&(s=m);var F=function(){};function W(T){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=F,this.onload=F,this.onerror=F,this.onreadystatechange=F,this._contentType="",this._xhr=T,this._sendTimeout=0,this._abort=F}W.prototype.open=function(T,M){this._abort(!0);var L=this,O=this._xhr,j=1,H=0;this._abort=function(q){L._sendTimeout!==0&&(a(L._sendTimeout),L._sendTimeout=0),(j===1||j===2||j===3)&&(j=4,O.onload=F,O.onerror=F,O.onabort=F,O.onprogress=F,O.onreadystatechange=F,O.abort(),H!==0&&(a(H),H=0),q||(L.readyState=4,L.onabort(null),L.onreadystatechange())),j=0};var X=function(){if(j===1){var q=0,te="",Se=void 0;if("contentType"in O)q=200,te="OK",Se=O.contentType;else try{q=O.status,te=O.statusText,Se=O.getResponseHeader("Content-Type")}catch{q=0,te="",Se=void 0}q!==0&&(j=2,L.readyState=2,L.status=q,L.statusText=te,L._contentType=Se,L.onreadystatechange())}},re=function(){if(X(),j===2||j===3){j=3;var q="";try{q=O.responseText}catch{}L.readyState=3,L.responseText=q,L.onprogress()}},Y=function(q,te){if((te==null||te.preventDefault==null)&&(te={preventDefault:F}),re(),j===1||j===2||j===3){if(j=4,H!==0&&(a(H),H=0),L.readyState=4,q==="load")L.onload(te);else if(q==="error")L.onerror(te);else if(q==="abort")L.onabort(te);else throw new TypeError;L.onreadystatechange()}},J=function(q){O!=null&&(O.readyState===4?(!("onload"in O)||!("onerror"in O)||!("onabort"in O))&&Y(O.responseText===""?"error":"load",q):O.readyState===3?"onprogress"in O||re():O.readyState===2&&X())},z=function(){H=i(function(){z()},500),O.readyState===3&&re()};"onload"in O&&(O.onload=function(q){Y("load",q)}),"onerror"in O&&(O.onerror=function(q){Y("error",q)}),"onabort"in O&&(O.onabort=function(q){Y("abort",q)}),"onprogress"in O&&(O.onprogress=re),"onreadystatechange"in O&&(O.onreadystatechange=function(q){J(q)}),("contentType"in O||!("ontimeout"in c.prototype))&&(M+=(M.indexOf("?")===-1?"?":"&")+"padding=true"),O.open(T,M,!0),"readyState"in O&&(H=i(function(){z()},0))},W.prototype.abort=function(){this._abort(!1)},W.prototype.getResponseHeader=function(T){return this._contentType},W.prototype.setRequestHeader=function(T,M){var L=this._xhr;"setRequestHeader"in L&&L.setRequestHeader(T,M)},W.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},W.prototype.send=function(){if((!("ontimeout"in c.prototype)||!("sendAsBinary"in c.prototype)&&!("mozAnon"in c.prototype))&&y!=null&&y.readyState!=null&&y.readyState!=="complete"){var T=this;T._sendTimeout=i(function(){T._sendTimeout=0,T.send()},4);return}var M=this._xhr;"withCredentials"in M&&(M.withCredentials=this.withCredentials);try{M.send(void 0)}catch(L){throw L}};function Q(T){return T.replace(/[A-Z]/g,function(M){return String.fromCharCode(M.charCodeAt(0)+32)})}function ne(T){for(var M=Object.create(null),L=T.split(`\r
`),O=0;O<L.length;O+=1){var j=L[O],H=j.split(": "),X=H.shift(),re=H.join(": ");M[Q(X)]=re}this._map=M}ne.prototype.get=function(T){return this._map[Q(T)]},c!=null&&c.HEADERS_RECEIVED==null&&(c.HEADERS_RECEIVED=2);function oe(){}oe.prototype.open=function(T,M,L,O,j,H,X){T.open("GET",j);var re=0;T.onprogress=function(){var J=T.responseText,z=J.slice(re);re+=z.length,L(z)},T.onerror=function(J){J.preventDefault(),O(new Error("NetworkError"))},T.onload=function(){O(null)},T.onabort=function(){O(null)},T.onreadystatechange=function(){if(T.readyState===c.HEADERS_RECEIVED){var J=T.status,z=T.statusText,q=T.getResponseHeader("Content-Type"),te=T.getAllResponseHeaders();M(J,z,q,new ne(te))}},T.withCredentials=H;for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&T.setRequestHeader(Y,X[Y]);return T.send(),T};function Ne(T){this._headers=T}Ne.prototype.get=function(T){return this._headers.get(T)};function Z(){}Z.prototype.open=function(T,M,L,O,j,H,X){var re=null,Y=new _,J=Y.signal,z=new s;return r(j,{headers:X,credentials:H?"include":"same-origin",signal:J,cache:"no-store"}).then(function(q){return re=q.body.getReader(),M(q.status,q.statusText,q.headers.get("Content-Type"),new Ne(q.headers)),new G(function(te,Se){var $e=function(){re.read().then(function(be){if(be.done)te(void 0);else{var pe=z.decode(be.value,{stream:!0});L(pe),$e()}}).catch(function(be){Se(be)})};$e()})}).catch(function(q){if(q.name!=="AbortError")return q}).then(function(q){O(q)}),{abort:function(){re!=null&&re.cancel(),Y.abort()}}};function he(){this._listeners=Object.create(null)}function Ye(T){i(function(){throw T},0)}he.prototype.dispatchEvent=function(T){T.target=this;var M=this._listeners[T.type];if(M!=null)for(var L=M.length,O=0;O<L;O+=1){var j=M[O];try{typeof j.handleEvent=="function"?j.handleEvent(T):j.call(this,T)}catch(H){Ye(H)}}},he.prototype.addEventListener=function(T,M){T=String(T);var L=this._listeners,O=L[T];O==null&&(O=[],L[T]=O);for(var j=!1,H=0;H<O.length;H+=1)O[H]===M&&(j=!0);j||O.push(M)},he.prototype.removeEventListener=function(T,M){T=String(T);var L=this._listeners,O=L[T];if(O!=null){for(var j=[],H=0;H<O.length;H+=1)O[H]!==M&&j.push(O[H]);j.length===0?delete L[T]:L[T]=j}};function Fe(T){this.type=T,this.target=void 0}function ft(T,M){Fe.call(this,T),this.data=M.data,this.lastEventId=M.lastEventId}ft.prototype=Object.create(Fe.prototype);function Ee(T,M){Fe.call(this,T),this.status=M.status,this.statusText=M.statusText,this.headers=M.headers}Ee.prototype=Object.create(Fe.prototype);function dt(T,M){Fe.call(this,T),this.error=M.error}dt.prototype=Object.create(Fe.prototype);var ht=-1,He=0,it=1,ot=2,pt=-1,Oe=0,at=1,Et=2,$t=3,xt=/^text\/event\-stream(;.*)?$/i,rn=1e3,qt=18e6,mt=function(T,M){var L=T==null?M:parseInt(T,10);return L!==L&&(L=M),St(L)},St=function(T){return Math.min(Math.max(T,rn),qt)},je=function(T,M,L){try{typeof M=="function"&&M.call(T,L)}catch(O){Ye(O)}};function xe(T,M){he.call(this),M=M||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Ft(this,T,M)}function Je(){return c!=null&&"withCredentials"in c.prototype||d==null?new c:new d}var Rt=r!=null&&o!=null&&"body"in o.prototype;function Ft(T,M,L){M=String(M);var O=Boolean(L.withCredentials),j=L.lastEventIdQueryParameterName||"lastEventId",H=St(1e3),X=mt(L.heartbeatTimeout,45e3),re="",Y=H,J=!1,z=0,q=L.headers||{},te=L.Transport,Se=Rt&&te==null?void 0:new W(te!=null?new te:Je()),$e=te!=null&&typeof te!="string"?new te:Se==null?new Z:new oe,be=void 0,pe=0,Me=ht,Qe="",st="",De="",_t="",le=Oe,qe=0,Be=0,Vt=function(se,ae,we,ge){if(Me===He)if(se===200&&we!=null&&xt.test(we)){Me=it,J=Date.now(),Y=H,T.readyState=it;var fe=new Ee("open",{status:se,statusText:ae,headers:ge});T.dispatchEvent(fe),je(T,T.onopen,fe)}else{var ce="";se!==200?(ae&&(ae=ae.replace(/\s+/g," ")),ce="EventSource's response has a status "+se+" "+ae+" that is not 200. Aborting the connection."):ce="EventSource's response has a Content-Type specifying an unsupported type: "+(we==null?"-":we.replace(/\s+/g," "))+". Aborting the connection.",Ct();var fe=new Ee("error",{status:se,statusText:ae,headers:ge});T.dispatchEvent(fe),je(T,T.onerror,fe),console.error(ce)}},Gt=function(se){if(Me===it){for(var ae=-1,we=0;we<se.length;we+=1){var ge=se.charCodeAt(we);(ge===`
`.charCodeAt(0)||ge==="\r".charCodeAt(0))&&(ae=we)}var fe=(ae!==-1?_t:"")+se.slice(0,ae+1);_t=(ae===-1?_t:"")+se.slice(ae+1),se!==""&&(J=Date.now(),z+=se.length);for(var ce=0;ce<fe.length;ce+=1){var ge=fe.charCodeAt(ce);if(le===pt&&ge===`
`.charCodeAt(0))le=Oe;else if(le===pt&&(le=Oe),ge==="\r".charCodeAt(0)||ge===`
`.charCodeAt(0)){if(le!==Oe){le===at&&(Be=ce+1);var Pe=fe.slice(qe,Be-1),Le=fe.slice(Be+(Be<ce&&fe.charCodeAt(Be)===" ".charCodeAt(0)?1:0),ce);Pe==="data"?(Qe+=`
`,Qe+=Le):Pe==="id"?st=Le:Pe==="event"?De=Le:Pe==="retry"?(H=mt(Le,H),Y=H):Pe==="heartbeatTimeout"&&(X=mt(Le,X),pe!==0&&(a(pe),pe=i(function(){Ke()},X)))}if(le===Oe){if(Qe!==""){re=st,De===""&&(De="message");var Ze=new ft(De,{data:Qe.slice(1),lastEventId:st});if(T.dispatchEvent(Ze),De==="open"?je(T,T.onopen,Ze):De==="message"?je(T,T.onmessage,Ze):De==="error"&&je(T,T.onerror,Ze),Me===ot)return}Qe="",De=""}le=ge==="\r".charCodeAt(0)?pt:Oe}else le===Oe&&(qe=ce,le=at),le===at?ge===":".charCodeAt(0)&&(Be=ce+1,le=Et):le===Et&&(le=$t)}}},gt=function(se){if(Me===it||Me===He){Me=ht,pe!==0&&(a(pe),pe=0),pe=i(function(){Ke()},Y),Y=St(Math.min(H*16,Y*2)),T.readyState=He;var ae=new dt("error",{error:se});T.dispatchEvent(ae),je(T,T.onerror,ae),se!=null&&console.error(se)}},Ct=function(){Me=ot,be!=null&&(be.abort(),be=void 0),pe!==0&&(a(pe),pe=0),T.readyState=ot},Ke=function(){if(pe=0,Me!==ht){if(!J&&be!=null)gt(new Error("No activity within "+X+" milliseconds. "+(Me===He?"No response received.":z+" chars received.")+" Reconnecting.")),be!=null&&(be.abort(),be=void 0);else{var se=Math.max((J||Date.now())+X-Date.now(),1);J=!1,pe=i(function(){Ke()},se)}return}J=!1,z=0,pe=i(function(){Ke()},X),Me=He,Qe="",De="",st=re,_t="",qe=0,Be=0,le=Oe;var ae=M;if(M.slice(0,5)!=="data:"&&M.slice(0,5)!=="blob:"&&re!==""){var we=M.indexOf("?");ae=we===-1?M:M.slice(0,we+1)+M.slice(we+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(Le,Ze){return Ze===j?"":Le}),ae+=(M.indexOf("?")===-1?"?":"&")+j+"="+encodeURIComponent(re)}var ge=T.withCredentials,fe={};fe.Accept="text/event-stream";var ce=T.headers;if(ce!=null)for(var Pe in ce)Object.prototype.hasOwnProperty.call(ce,Pe)&&(fe[Pe]=ce[Pe]);try{be=$e.open(Se,Vt,Gt,gt,ae,ge,fe)}catch(Le){throw Ct(),Le}};T.url=M,T.readyState=He,T.withCredentials=O,T.headers=q,T._close=Ct,Ke()}xe.prototype=Object.create(he.prototype),xe.prototype.CONNECTING=He,xe.prototype.OPEN=it,xe.prototype.CLOSED=ot,xe.prototype.close=function(){this._close()},xe.CONNECTING=He,xe.OPEN=it,xe.CLOSED=ot,xe.prototype.withCredentials=void 0;var kt=v;c!=null&&(v==null||!("withCredentials"in v.prototype))&&(kt=xe),i(function(){if(["Asia/Anadyr","Asia/Barnaul","Asia/Chita","Asia/Irkutsk","Asia/Kamchatka","Asia/Khandyga","Asia/Krasnoyarsk","Asia/Magadan","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Sakhalin","Asia/Srednekolymsk","Asia/Tomsk","Asia/Ust-Nera","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Europe/Astrakhan","Europe/Kaliningrad","Europe/Kirov","Europe/Moscow","Europe/Samara","Europe/Saratov","Europe/Simferopol","Europe/Ulyanovsk","Europe/Volgograd","W-SU"].indexOf(new Intl.DateTimeFormat().resolvedOptions().timeZone)!==-1){var T=function(O){return"\x1B[97m\x1B[1m"+O+"\x1B[22m\x1B[37m"},M=function(){return"\u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}  \u{1F1F7}\u{1F1FA}  \u{1F1FA}\u{1F1E6}"},L=["",M(),"","\x1B[37m24 \u0444\u0435\u0432\u0440\u0430\u043B\u044F "+T("\u0420\u043E\u0441\u0441\u0438\u044F \u043D\u0430\u043F\u0430\u043B\u0430 \u043D\u0430 \u0423\u043A\u0440\u0430\u0438\u043D\u0443")+".","","\u041D\u0430\u0440\u043E\u0434 \u0423\u043A\u0440\u0430\u0438\u043D\u044B \u0432\u0441\u0435\u043E\u0431\u0449\u0435 \u043C\u043E\u0431\u0438\u043B\u0438\u0437\u043E\u0432\u0430\u043D \u0438 \u0433\u043E\u0442\u043E\u0432 \u0437\u0430\u0449\u0438\u0449\u0430\u0442\u044C \u0441\u0432\u043E\u044E \u0441\u0442\u0440\u0430\u043D\u0443 \u043E\u0442 \u0432\u0440\u0430\u0436\u0435\u0441\u043A\u043E\u0433\u043E \u0432\u0442\u043E\u0440\u0436\u0435\u043D\u0438\u044F. "+T("91% \u0443\u043A\u0440\u0430\u0438\u043D\u0446\u0435\u0432 \u043F\u043E\u043B\u043D\u043E\u0441\u0442\u044C\u044E \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0441\u0432\u043E\u0435\u0433\u043E \u043F\u0440\u0435\u0437\u0438\u0434\u0435\u043D\u0442\u0430 \u0412\u043B\u0430\u0434\u0438\u043C\u0438\u0440\u0430 \u0417\u0435\u043B\u0435\u043D\u0441\u043A\u043E\u0433\u043E")+" \u0438 \u0435\u0433\u043E \u043E\u0442\u0432\u0435\u0442\u043D\u044B\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F \u043D\u0430 \u043D\u0430\u043F\u0430\u0434\u0435\u043D\u0438\u0435 \u0420\u043E\u0441\u0441\u0438\u0438.","","\u0412\u0435\u0441\u044C \u043C\u0438\u0440 \u043E\u0441\u0443\u0434\u0438\u043B \u043D\u0435\u043E\u0431\u043E\u0441\u043D\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u0432\u0442\u043E\u0440\u0436\u0435\u043D\u0438\u0435 \u0438 \u0440\u0435\u0448\u0438\u043B \u0432\u0432\u0435\u0441\u0442\u0438 "+T("\u043D\u0435\u0432\u0438\u0434\u0430\u043D\u043D\u044B\u0435 \u0440\u0430\u043D\u0435\u0435 \u0441\u0430\u043D\u043A\u0446\u0438\u0438 \u043F\u0440\u043E\u0442\u0438\u0432 \u0420\u043E\u0441\u0441\u0438\u0438")+". \u0421 \u043A\u0430\u0436\u0434\u044B\u043C \u043D\u043E\u0432\u044B\u043C \u0434\u043D\u0435\u043C \u043E\u043D\u0438 \u0431\u0443\u0434\u0443\u0442 \u043E\u0449\u0443\u0449\u0430\u0442\u044C\u0441\u044F \u0432\u0441\u0435 \u0441\u0438\u043B\u044C\u043D\u0435\u0435 \u0438 \u0441\u0438\u043B\u044C\u043D\u0435\u0435 \u0441\u0440\u0435\u0434\u0438 \u043C\u0438\u0440\u043D\u044B\u0445 \u0433\u0440\u0430\u0436\u0434\u0430\u043D.","","\u0412 \u0442\u043E \u0436\u0435 \u0432\u0440\u0435\u043C\u044F, "+T("\u0440\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u043E\u0435 \u043F\u0440\u0430\u0432\u0438\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u043E \u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F \u0433\u0440\u0430\u0436\u0434\u0430\u043D \u043A \u0432\u043D\u0435\u0448\u043D\u0435\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438")+", \u043D\u0430\u0441\u0430\u0436\u0434\u0430\u044F \u043E\u0434\u043D\u043E\u0431\u043E\u043A\u0438\u0435 \u0444\u043E\u0440\u043C\u0443\u043B\u0438\u0440\u043E\u0432\u043A\u0438 \u0438 \u0432\u0435\u0440\u0441\u0438\u0438 \u043F\u0440\u043E\u0438\u0441\u0445\u043E\u0434\u044F\u0449\u0435\u0433\u043E.","","\u0412 \u043A\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043D\u0430\u0434\u0435\u0436\u043D\u043E\u0433\u043E \u0438\u0441\u0442\u043E\u0447\u043D\u0438\u043A\u0430 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u044B\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 Tor:","",T("https://www.torproject.org/"),"","\u0418 \u043F\u043E\u0441\u0435\u0442\u0438\u0442\u0435:","",T("https://www.bbcweb3hytmzhn5d532owbu6oqadra5z3ar726vq5kgwwn6aucdccrad.onion/russian"),"",M(),"",T("\u041F\u0440\u0435\u043A\u0440\u0430\u0442\u0438\u0442\u0435 \u044D\u0442\u0443 \u0431\u0435\u0441\u0441\u043C\u044B\u0441\u043B\u0435\u043D\u043D\u0443\u044E \u0432\u043E\u0439\u043D\u0443! \u041E\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u0432\u043E\u0435\u043D\u043D\u043E\u0433\u043E \u043F\u0440\u0435\u0441\u0442\u0443\u043F\u043D\u0438\u043A\u0430 \u041F\u0443\u0442\u0438\u043D\u0430!")+"\x1B[39m","",M(),""].join(`
`);alert(L),window.open("http://www.change.org/NetVoyne")}},15e3),function(T){{var M=T(n);M!==void 0&&(e.exports=M)}}(function(T){T.EventSourcePolyfill=xe,T.NativeEventSource=v,T.EventSource=kt})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:yt:globalThis)})(Yt,Yt.exports);function Ue(){this.id=Math.random(),this.isMaster=!1,this.others={},window.addEventListener("storage",this,!1),window.addEventListener("unload",this,!1),this.broadcast("hello");var e=this,n=function i(){e.check(),e._checkTimeout=setTimeout(i,9e3)},t=function i(){e.sendPing(),e._pingTimeout=setTimeout(i,17e3)};this._checkTimeout=setTimeout(n,500),this._pingTimeout=setTimeout(t,17e3)}Ue.prototype.destroy=function(){clearTimeout(this._pingTimeout),clearTimeout(this._checkTimeout),window.removeEventListener("storage",this,!1),window.removeEventListener("unload",this,!1),this.broadcast("bye")};Ue.prototype.handleEvent=function(e){if(e.type==="unload")this.destroy();else if(e.key==="broadcast")try{var n=JSON.parse(e.newValue);n.id!==this.id&&this[n.type](n)}catch(t){console.log(t)}};Ue.prototype.sendPing=function(){this.broadcast("ping")};Ue.prototype.hello=function(e){this.ping(e),e.id<this.id?this.check():this.sendPing()};Ue.prototype.ping=function(e){this.others[e.id]=+new Date};Ue.prototype.bye=function(e){delete this.others[e.id],this.check()};Ue.prototype.check=function(e){var n=+new Date,t=!0,i;for(i in this.others)this.others[i]+23e3<n?delete this.others[i]:i<this.id&&(t=!1);this.isMaster!==t&&(this.isMaster=t,this.masterDidChange())};Ue.prototype.masterDidChange=function(){};Ue.prototype.broadcast=function(e,n){var t={id:this.id,type:e};for(var i in n)t[i]=n[i];try{localStorage.setItem("broadcast",JSON.stringify(t))}catch(a){console.log(a)}};var _n={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var n=function(){this.init()};n.prototype={init:function(){var r=this||t;return r._counter=1e3,r._html5AudioPool=[],r.html5PoolSize=10,r._codecs={},r._howls=[],r._muted=!1,r._volume=1,r._canPlayEvent="canplaythrough",r._navigator=typeof window<"u"&&window.navigator?window.navigator:null,r.masterGain=null,r.noAudio=!1,r.usingWebAudio=!0,r.autoSuspend=!0,r.ctx=null,r.autoUnlock=!0,r._setup(),r},volume:function(r){var o=this||t;if(r=parseFloat(r),o.ctx||G(),typeof r<"u"&&r>=0&&r<=1){if(o._volume=r,o._muted)return o;o.usingWebAudio&&o.masterGain.gain.setValueAtTime(r,t.ctx.currentTime);for(var s=0;s<o._howls.length;s++)if(!o._howls[s]._webAudio)for(var l=o._howls[s]._getSoundIds(),_=0;_<l.length;_++){var w=o._howls[s]._soundById(l[_]);w&&w._node&&(w._node.volume=w._volume*r)}return o}return o._volume},mute:function(r){var o=this||t;o.ctx||G(),o._muted=r,o.usingWebAudio&&o.masterGain.gain.setValueAtTime(r?0:o._volume,t.ctx.currentTime);for(var s=0;s<o._howls.length;s++)if(!o._howls[s]._webAudio)for(var l=o._howls[s]._getSoundIds(),_=0;_<l.length;_++){var w=o._howls[s]._soundById(l[_]);w&&w._node&&(w._node.muted=r?!0:w._muted)}return o},stop:function(){for(var r=this||t,o=0;o<r._howls.length;o++)r._howls[o].stop();return r},unload:function(){for(var r=this||t,o=r._howls.length-1;o>=0;o--)r._howls[o].unload();return r.usingWebAudio&&r.ctx&&typeof r.ctx.close<"u"&&(r.ctx.close(),r.ctx=null,G()),r},codecs:function(r){return(this||t)._codecs[r.replace(/^x-/,"")]},_setup:function(){var r=this||t;if(r.state=r.ctx&&r.ctx.state||"suspended",r._autoSuspend(),!r.usingWebAudio)if(typeof Audio<"u")try{var o=new Audio;typeof o.oncanplaythrough>"u"&&(r._canPlayEvent="canplay")}catch{r.noAudio=!0}else r.noAudio=!0;try{var o=new Audio;o.muted&&(r.noAudio=!0)}catch{}return r.noAudio||r._setupCodecs(),r},_setupCodecs:function(){var r=this||t,o=null;try{o=typeof Audio<"u"?new Audio:null}catch{return r}if(!o||typeof o.canPlayType!="function")return r;var s=o.canPlayType("audio/mpeg;").replace(/^no$/,""),l=r._navigator?r._navigator.userAgent:"",_=l.match(/OPR\/([0-6].)/g),w=_&&parseInt(_[0].split("/")[1],10)<33,m=l.indexOf("Safari")!==-1&&l.indexOf("Chrome")===-1,N=l.match(/Version\/(.*?) /),F=m&&N&&parseInt(N[1],10)<15;return r._codecs={mp3:!!(!w&&(s||o.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!s,opus:!!o.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!o.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(o.canPlayType('audio/wav; codecs="1"')||o.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!o.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!o.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(o.canPlayType("audio/x-m4a;")||o.canPlayType("audio/m4a;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(o.canPlayType("audio/x-m4b;")||o.canPlayType("audio/m4b;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(o.canPlayType("audio/x-mp4;")||o.canPlayType("audio/mp4;")||o.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!F&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!F&&o.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!o.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(o.canPlayType("audio/x-flac;")||o.canPlayType("audio/flac;")).replace(/^no$/,"")},r},_unlockAudio:function(){var r=this||t;if(!(r._audioUnlocked||!r.ctx)){r._audioUnlocked=!1,r.autoUnlock=!1,!r._mobileUnloaded&&r.ctx.sampleRate!==44100&&(r._mobileUnloaded=!0,r.unload()),r._scratchBuffer=r.ctx.createBuffer(1,1,22050);var o=function(s){for(;r._html5AudioPool.length<r.html5PoolSize;)try{var l=new Audio;l._unlocked=!0,r._releaseHtml5Audio(l)}catch{r.noAudio=!0;break}for(var _=0;_<r._howls.length;_++)if(!r._howls[_]._webAudio)for(var w=r._howls[_]._getSoundIds(),m=0;m<w.length;m++){var N=r._howls[_]._soundById(w[m]);N&&N._node&&!N._node._unlocked&&(N._node._unlocked=!0,N._node.load())}r._autoResume();var F=r.ctx.createBufferSource();F.buffer=r._scratchBuffer,F.connect(r.ctx.destination),typeof F.start>"u"?F.noteOn(0):F.start(0),typeof r.ctx.resume=="function"&&r.ctx.resume(),F.onended=function(){F.disconnect(0),r._audioUnlocked=!0,document.removeEventListener("touchstart",o,!0),document.removeEventListener("touchend",o,!0),document.removeEventListener("click",o,!0),document.removeEventListener("keydown",o,!0);for(var W=0;W<r._howls.length;W++)r._howls[W]._emit("unlock")}};return document.addEventListener("touchstart",o,!0),document.addEventListener("touchend",o,!0),document.addEventListener("click",o,!0),document.addEventListener("keydown",o,!0),r}},_obtainHtml5Audio:function(){var r=this||t;if(r._html5AudioPool.length)return r._html5AudioPool.pop();var o=new Audio().play();return o&&typeof Promise<"u"&&(o instanceof Promise||typeof o.then=="function")&&o.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(r){var o=this||t;return r._unlocked&&o._html5AudioPool.push(r),o},_autoSuspend:function(){var r=this;if(!(!r.autoSuspend||!r.ctx||typeof r.ctx.suspend>"u"||!t.usingWebAudio)){for(var o=0;o<r._howls.length;o++)if(r._howls[o]._webAudio){for(var s=0;s<r._howls[o]._sounds.length;s++)if(!r._howls[o]._sounds[s]._paused)return r}return r._suspendTimer&&clearTimeout(r._suspendTimer),r._suspendTimer=setTimeout(function(){if(!!r.autoSuspend){r._suspendTimer=null,r.state="suspending";var l=function(){r.state="suspended",r._resumeAfterSuspend&&(delete r._resumeAfterSuspend,r._autoResume())};r.ctx.suspend().then(l,l)}},3e4),r}},_autoResume:function(){var r=this;if(!(!r.ctx||typeof r.ctx.resume>"u"||!t.usingWebAudio))return r.state==="running"&&r.ctx.state!=="interrupted"&&r._suspendTimer?(clearTimeout(r._suspendTimer),r._suspendTimer=null):r.state==="suspended"||r.state==="running"&&r.ctx.state==="interrupted"?(r.ctx.resume().then(function(){r.state="running";for(var o=0;o<r._howls.length;o++)r._howls[o]._emit("resume")}),r._suspendTimer&&(clearTimeout(r._suspendTimer),r._suspendTimer=null)):r.state==="suspending"&&(r._resumeAfterSuspend=!0),r}};var t=new n,i=function(r){var o=this;if(!r.src||r.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}o.init(r)};i.prototype={init:function(r){var o=this;return t.ctx||G(),o._autoplay=r.autoplay||!1,o._format=typeof r.format!="string"?r.format:[r.format],o._html5=r.html5||!1,o._muted=r.mute||!1,o._loop=r.loop||!1,o._pool=r.pool||5,o._preload=typeof r.preload=="boolean"||r.preload==="metadata"?r.preload:!0,o._rate=r.rate||1,o._sprite=r.sprite||{},o._src=typeof r.src!="string"?r.src:[r.src],o._volume=r.volume!==void 0?r.volume:1,o._xhr={method:r.xhr&&r.xhr.method?r.xhr.method:"GET",headers:r.xhr&&r.xhr.headers?r.xhr.headers:null,withCredentials:r.xhr&&r.xhr.withCredentials?r.xhr.withCredentials:!1},o._duration=0,o._state="unloaded",o._sounds=[],o._endTimers={},o._queue=[],o._playLock=!1,o._onend=r.onend?[{fn:r.onend}]:[],o._onfade=r.onfade?[{fn:r.onfade}]:[],o._onload=r.onload?[{fn:r.onload}]:[],o._onloaderror=r.onloaderror?[{fn:r.onloaderror}]:[],o._onplayerror=r.onplayerror?[{fn:r.onplayerror}]:[],o._onpause=r.onpause?[{fn:r.onpause}]:[],o._onplay=r.onplay?[{fn:r.onplay}]:[],o._onstop=r.onstop?[{fn:r.onstop}]:[],o._onmute=r.onmute?[{fn:r.onmute}]:[],o._onvolume=r.onvolume?[{fn:r.onvolume}]:[],o._onrate=r.onrate?[{fn:r.onrate}]:[],o._onseek=r.onseek?[{fn:r.onseek}]:[],o._onunlock=r.onunlock?[{fn:r.onunlock}]:[],o._onresume=[],o._webAudio=t.usingWebAudio&&!o._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(o),o._autoplay&&o._queue.push({event:"play",action:function(){o.play()}}),o._preload&&o._preload!=="none"&&o.load(),o},load:function(){var r=this,o=null;if(t.noAudio){r._emit("loaderror",null,"No audio support.");return}typeof r._src=="string"&&(r._src=[r._src]);for(var s=0;s<r._src.length;s++){var l,_;if(r._format&&r._format[s])l=r._format[s];else{if(_=r._src[s],typeof _!="string"){r._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}l=/^data:audio\/([^;,]+);/i.exec(_),l||(l=/\.([^.]+)$/.exec(_.split("?",1)[0])),l&&(l=l[1].toLowerCase())}if(l||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),l&&t.codecs(l)){o=r._src[s];break}}if(!o){r._emit("loaderror",null,"No codec support for selected audio sources.");return}return r._src=o,r._state="loading",window.location.protocol==="https:"&&o.slice(0,5)==="http:"&&(r._html5=!0,r._webAudio=!1),new a(r),r._webAudio&&d(r),r},play:function(r,o){var s=this,l=null;if(typeof r=="number")l=r,r=null;else{if(typeof r=="string"&&s._state==="loaded"&&!s._sprite[r])return null;if(typeof r>"u"&&(r="__default",!s._playLock)){for(var _=0,w=0;w<s._sounds.length;w++)s._sounds[w]._paused&&!s._sounds[w]._ended&&(_++,l=s._sounds[w]._id);_===1?r=null:l=null}}var m=l?s._soundById(l):s._inactiveSound();if(!m)return null;if(l&&!r&&(r=m._sprite||"__default"),s._state!=="loaded"){m._sprite=r,m._ended=!1;var N=m._id;return s._queue.push({event:"play",action:function(){s.play(N)}}),N}if(l&&!m._paused)return o||s._loadQueue("play"),m._id;s._webAudio&&t._autoResume();var F=Math.max(0,m._seek>0?m._seek:s._sprite[r][0]/1e3),W=Math.max(0,(s._sprite[r][0]+s._sprite[r][1])/1e3-F),Q=W*1e3/Math.abs(m._rate),ne=s._sprite[r][0]/1e3,oe=(s._sprite[r][0]+s._sprite[r][1])/1e3;m._sprite=r,m._ended=!1;var Ne=function(){m._paused=!1,m._seek=F,m._start=ne,m._stop=oe,m._loop=!!(m._loop||s._sprite[r][2])};if(F>=oe){s._ended(m);return}var Z=m._node;if(s._webAudio){var he=function(){s._playLock=!1,Ne(),s._refreshBuffer(m);var Ee=m._muted||s._muted?0:m._volume;Z.gain.setValueAtTime(Ee,t.ctx.currentTime),m._playStart=t.ctx.currentTime,typeof Z.bufferSource.start>"u"?m._loop?Z.bufferSource.noteGrainOn(0,F,86400):Z.bufferSource.noteGrainOn(0,F,W):m._loop?Z.bufferSource.start(0,F,86400):Z.bufferSource.start(0,F,W),Q!==1/0&&(s._endTimers[m._id]=setTimeout(s._ended.bind(s,m),Q)),o||setTimeout(function(){s._emit("play",m._id),s._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?he():(s._playLock=!0,s.once("resume",he),s._clearTimer(m._id))}else{var Ye=function(){Z.currentTime=F,Z.muted=m._muted||s._muted||t._muted||Z.muted,Z.volume=m._volume*t.volume(),Z.playbackRate=m._rate;try{var Ee=Z.play();if(Ee&&typeof Promise<"u"&&(Ee instanceof Promise||typeof Ee.then=="function")?(s._playLock=!0,Ne(),Ee.then(function(){s._playLock=!1,Z._unlocked=!0,o?s._loadQueue():s._emit("play",m._id)}).catch(function(){s._playLock=!1,s._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),m._ended=!0,m._paused=!0})):o||(s._playLock=!1,Ne(),s._emit("play",m._id)),Z.playbackRate=m._rate,Z.paused){s._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}r!=="__default"||m._loop?s._endTimers[m._id]=setTimeout(s._ended.bind(s,m),Q):(s._endTimers[m._id]=function(){s._ended(m),Z.removeEventListener("ended",s._endTimers[m._id],!1)},Z.addEventListener("ended",s._endTimers[m._id],!1))}catch(dt){s._emit("playerror",m._id,dt)}};Z.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(Z.src=s._src,Z.load());var Fe=window&&window.ejecta||!Z.readyState&&t._navigator.isCocoonJS;if(Z.readyState>=3||Fe)Ye();else{s._playLock=!0,s._state="loading";var ft=function(){s._state="loaded",Ye(),Z.removeEventListener(t._canPlayEvent,ft,!1)};Z.addEventListener(t._canPlayEvent,ft,!1),s._clearTimer(m._id)}}return m._id},pause:function(r){var o=this;if(o._state!=="loaded"||o._playLock)return o._queue.push({event:"pause",action:function(){o.pause(r)}}),o;for(var s=o._getSoundIds(r),l=0;l<s.length;l++){o._clearTimer(s[l]);var _=o._soundById(s[l]);if(_&&!_._paused&&(_._seek=o.seek(s[l]),_._rateSeek=0,_._paused=!0,o._stopFade(s[l]),_._node))if(o._webAudio){if(!_._node.bufferSource)continue;typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),o._cleanBuffer(_._node)}else(!isNaN(_._node.duration)||_._node.duration===1/0)&&_._node.pause();arguments[1]||o._emit("pause",_?_._id:null)}return o},stop:function(r,o){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"stop",action:function(){s.stop(r)}}),s;for(var l=s._getSoundIds(r),_=0;_<l.length;_++){s._clearTimer(l[_]);var w=s._soundById(l[_]);w&&(w._seek=w._start||0,w._rateSeek=0,w._paused=!0,w._ended=!0,s._stopFade(l[_]),w._node&&(s._webAudio?w._node.bufferSource&&(typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),s._cleanBuffer(w._node)):(!isNaN(w._node.duration)||w._node.duration===1/0)&&(w._node.currentTime=w._start||0,w._node.pause(),w._node.duration===1/0&&s._clearSound(w._node))),o||s._emit("stop",w._id))}return s},mute:function(r,o){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"mute",action:function(){s.mute(r,o)}}),s;if(typeof o>"u")if(typeof r=="boolean")s._muted=r;else return s._muted;for(var l=s._getSoundIds(o),_=0;_<l.length;_++){var w=s._soundById(l[_]);w&&(w._muted=r,w._interval&&s._stopFade(w._id),s._webAudio&&w._node?w._node.gain.setValueAtTime(r?0:w._volume,t.ctx.currentTime):w._node&&(w._node.muted=t._muted?!0:r),s._emit("mute",w._id))}return s},volume:function(){var r=this,o=arguments,s,l;if(o.length===0)return r._volume;if(o.length===1||o.length===2&&typeof o[1]>"u"){var _=r._getSoundIds(),w=_.indexOf(o[0]);w>=0?l=parseInt(o[0],10):s=parseFloat(o[0])}else o.length>=2&&(s=parseFloat(o[0]),l=parseInt(o[1],10));var m;if(typeof s<"u"&&s>=0&&s<=1){if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;typeof l>"u"&&(r._volume=s),l=r._getSoundIds(l);for(var N=0;N<l.length;N++)m=r._soundById(l[N]),m&&(m._volume=s,o[2]||r._stopFade(l[N]),r._webAudio&&m._node&&!m._muted?m._node.gain.setValueAtTime(s,t.ctx.currentTime):m._node&&!m._muted&&(m._node.volume=s*t.volume()),r._emit("volume",m._id))}else return m=l?r._soundById(l):r._sounds[0],m?m._volume:0;return r},fade:function(r,o,s,l){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(r,o,s,l)}}),_;r=Math.min(Math.max(0,parseFloat(r)),1),o=Math.min(Math.max(0,parseFloat(o)),1),s=parseFloat(s),_.volume(r,l);for(var w=_._getSoundIds(l),m=0;m<w.length;m++){var N=_._soundById(w[m]);if(N){if(l||_._stopFade(w[m]),_._webAudio&&!N._muted){var F=t.ctx.currentTime,W=F+s/1e3;N._volume=r,N._node.gain.setValueAtTime(r,F),N._node.gain.linearRampToValueAtTime(o,W)}_._startFadeInterval(N,r,o,s,w[m],typeof l>"u")}}return _},_startFadeInterval:function(r,o,s,l,_,w){var m=this,N=o,F=s-o,W=Math.abs(F/.01),Q=Math.max(4,W>0?l/W:l),ne=Date.now();r._fadeTo=s,r._interval=setInterval(function(){var oe=(Date.now()-ne)/l;ne=Date.now(),N+=F*oe,N=Math.round(N*100)/100,F<0?N=Math.max(s,N):N=Math.min(s,N),m._webAudio?r._volume=N:m.volume(N,r._id,!0),w&&(m._volume=N),(s<o&&N<=s||s>o&&N>=s)&&(clearInterval(r._interval),r._interval=null,r._fadeTo=null,m.volume(s,r._id),m._emit("fade",r._id))},Q)},_stopFade:function(r){var o=this,s=o._soundById(r);return s&&s._interval&&(o._webAudio&&s._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(s._interval),s._interval=null,o.volume(s._fadeTo,r),s._fadeTo=null,o._emit("fade",r)),o},loop:function(){var r=this,o=arguments,s,l,_;if(o.length===0)return r._loop;if(o.length===1)if(typeof o[0]=="boolean")s=o[0],r._loop=s;else return _=r._soundById(parseInt(o[0],10)),_?_._loop:!1;else o.length===2&&(s=o[0],l=parseInt(o[1],10));for(var w=r._getSoundIds(l),m=0;m<w.length;m++)_=r._soundById(w[m]),_&&(_._loop=s,r._webAudio&&_._node&&_._node.bufferSource&&(_._node.bufferSource.loop=s,s&&(_._node.bufferSource.loopStart=_._start||0,_._node.bufferSource.loopEnd=_._stop,r.playing(w[m])&&(r.pause(w[m],!0),r.play(w[m],!0)))));return r},rate:function(){var r=this,o=arguments,s,l;if(o.length===0)l=r._sounds[0]._id;else if(o.length===1){var _=r._getSoundIds(),w=_.indexOf(o[0]);w>=0?l=parseInt(o[0],10):s=parseFloat(o[0])}else o.length===2&&(s=parseFloat(o[0]),l=parseInt(o[1],10));var m;if(typeof s=="number"){if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;typeof l>"u"&&(r._rate=s),l=r._getSoundIds(l);for(var N=0;N<l.length;N++)if(m=r._soundById(l[N]),m){r.playing(l[N])&&(m._rateSeek=r.seek(l[N]),m._playStart=r._webAudio?t.ctx.currentTime:m._playStart),m._rate=s,r._webAudio&&m._node&&m._node.bufferSource?m._node.bufferSource.playbackRate.setValueAtTime(s,t.ctx.currentTime):m._node&&(m._node.playbackRate=s);var F=r.seek(l[N]),W=(r._sprite[m._sprite][0]+r._sprite[m._sprite][1])/1e3-F,Q=W*1e3/Math.abs(m._rate);(r._endTimers[l[N]]||!m._paused)&&(r._clearTimer(l[N]),r._endTimers[l[N]]=setTimeout(r._ended.bind(r,m),Q)),r._emit("rate",m._id)}}else return m=r._soundById(l),m?m._rate:r._rate;return r},seek:function(){var r=this,o=arguments,s,l;if(o.length===0)r._sounds.length&&(l=r._sounds[0]._id);else if(o.length===1){var _=r._getSoundIds(),w=_.indexOf(o[0]);w>=0?l=parseInt(o[0],10):r._sounds.length&&(l=r._sounds[0]._id,s=parseFloat(o[0]))}else o.length===2&&(s=parseFloat(o[0]),l=parseInt(o[1],10));if(typeof l>"u")return 0;if(typeof s=="number"&&(r._state!=="loaded"||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,o)}}),r;var m=r._soundById(l);if(m)if(typeof s=="number"&&s>=0){var N=r.playing(l);N&&r.pause(l,!0),m._seek=s,m._ended=!1,r._clearTimer(l),!r._webAudio&&m._node&&!isNaN(m._node.duration)&&(m._node.currentTime=s);var F=function(){N&&r.play(l,!0),r._emit("seek",l)};if(N&&!r._webAudio){var W=function(){r._playLock?setTimeout(W,0):F()};setTimeout(W,0)}else F()}else if(r._webAudio){var Q=r.playing(l)?t.ctx.currentTime-m._playStart:0,ne=m._rateSeek?m._rateSeek-m._seek:0;return m._seek+(ne+Q*Math.abs(m._rate))}else return m._node.currentTime;return r},playing:function(r){var o=this;if(typeof r=="number"){var s=o._soundById(r);return s?!s._paused:!1}for(var l=0;l<o._sounds.length;l++)if(!o._sounds[l]._paused)return!0;return!1},duration:function(r){var o=this,s=o._duration,l=o._soundById(r);return l&&(s=o._sprite[l._sprite][1]/1e3),s},state:function(){return this._state},unload:function(){for(var r=this,o=r._sounds,s=0;s<o.length;s++)o[s]._paused||r.stop(o[s]._id),r._webAudio||(r._clearSound(o[s]._node),o[s]._node.removeEventListener("error",o[s]._errorFn,!1),o[s]._node.removeEventListener(t._canPlayEvent,o[s]._loadFn,!1),o[s]._node.removeEventListener("ended",o[s]._endFn,!1),t._releaseHtml5Audio(o[s]._node)),delete o[s]._node,r._clearTimer(o[s]._id);var l=t._howls.indexOf(r);l>=0&&t._howls.splice(l,1);var _=!0;for(s=0;s<t._howls.length;s++)if(t._howls[s]._src===r._src||r._src.indexOf(t._howls[s]._src)>=0){_=!1;break}return c&&_&&delete c[r._src],t.noAudio=!1,r._state="unloaded",r._sounds=[],r=null,null},on:function(r,o,s,l){var _=this,w=_["_on"+r];return typeof o=="function"&&w.push(l?{id:s,fn:o,once:l}:{id:s,fn:o}),_},off:function(r,o,s){var l=this,_=l["_on"+r],w=0;if(typeof o=="number"&&(s=o,o=null),o||s)for(w=0;w<_.length;w++){var m=s===_[w].id;if(o===_[w].fn&&m||!o&&m){_.splice(w,1);break}}else if(r)l["_on"+r]=[];else{var N=Object.keys(l);for(w=0;w<N.length;w++)N[w].indexOf("_on")===0&&Array.isArray(l[N[w]])&&(l[N[w]]=[])}return l},once:function(r,o,s){var l=this;return l.on(r,o,s,1),l},_emit:function(r,o,s){for(var l=this,_=l["_on"+r],w=_.length-1;w>=0;w--)(!_[w].id||_[w].id===o||r==="load")&&(setTimeout(function(m){m.call(this,o,s)}.bind(l,_[w].fn),0),_[w].once&&l.off(r,_[w].fn,_[w].id));return l._loadQueue(r),l},_loadQueue:function(r){var o=this;if(o._queue.length>0){var s=o._queue[0];s.event===r&&(o._queue.shift(),o._loadQueue()),r||s.action()}return o},_ended:function(r){var o=this,s=r._sprite;if(!o._webAudio&&r._node&&!r._node.paused&&!r._node.ended&&r._node.currentTime<r._stop)return setTimeout(o._ended.bind(o,r),100),o;var l=!!(r._loop||o._sprite[s][2]);if(o._emit("end",r._id),!o._webAudio&&l&&o.stop(r._id,!0).play(r._id),o._webAudio&&l){o._emit("play",r._id),r._seek=r._start||0,r._rateSeek=0,r._playStart=t.ctx.currentTime;var _=(r._stop-r._start)*1e3/Math.abs(r._rate);o._endTimers[r._id]=setTimeout(o._ended.bind(o,r),_)}return o._webAudio&&!l&&(r._paused=!0,r._ended=!0,r._seek=r._start||0,r._rateSeek=0,o._clearTimer(r._id),o._cleanBuffer(r._node),t._autoSuspend()),!o._webAudio&&!l&&o.stop(r._id,!0),o},_clearTimer:function(r){var o=this;if(o._endTimers[r]){if(typeof o._endTimers[r]!="function")clearTimeout(o._endTimers[r]);else{var s=o._soundById(r);s&&s._node&&s._node.removeEventListener("ended",o._endTimers[r],!1)}delete o._endTimers[r]}return o},_soundById:function(r){for(var o=this,s=0;s<o._sounds.length;s++)if(r===o._sounds[s]._id)return o._sounds[s];return null},_inactiveSound:function(){var r=this;r._drain();for(var o=0;o<r._sounds.length;o++)if(r._sounds[o]._ended)return r._sounds[o].reset();return new a(r)},_drain:function(){var r=this,o=r._pool,s=0,l=0;if(!(r._sounds.length<o)){for(l=0;l<r._sounds.length;l++)r._sounds[l]._ended&&s++;for(l=r._sounds.length-1;l>=0;l--){if(s<=o)return;r._sounds[l]._ended&&(r._webAudio&&r._sounds[l]._node&&r._sounds[l]._node.disconnect(0),r._sounds.splice(l,1),s--)}}},_getSoundIds:function(r){var o=this;if(typeof r>"u"){for(var s=[],l=0;l<o._sounds.length;l++)s.push(o._sounds[l]._id);return s}else return[r]},_refreshBuffer:function(r){var o=this;return r._node.bufferSource=t.ctx.createBufferSource(),r._node.bufferSource.buffer=c[o._src],r._panner?r._node.bufferSource.connect(r._panner):r._node.bufferSource.connect(r._node),r._node.bufferSource.loop=r._loop,r._loop&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop||0),r._node.bufferSource.playbackRate.setValueAtTime(r._rate,t.ctx.currentTime),o},_cleanBuffer:function(r){var o=this,s=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&r.bufferSource&&(r.bufferSource.onended=null,r.bufferSource.disconnect(0),s))try{r.bufferSource.buffer=t._scratchBuffer}catch{}return r.bufferSource=null,o},_clearSound:function(r){var o=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);o||(r.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(r){this._parent=r,this.init()};a.prototype={init:function(){var r=this,o=r._parent;return r._muted=o._muted,r._loop=o._loop,r._volume=o._volume,r._rate=o._rate,r._seek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++t._counter,o._sounds.push(r),r.create(),r},create:function(){var r=this,o=r._parent,s=t._muted||r._muted||r._parent._muted?0:r._volume;return o._webAudio?(r._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),r._node.gain.setValueAtTime(s,t.ctx.currentTime),r._node.paused=!0,r._node.connect(t.masterGain)):t.noAudio||(r._node=t._obtainHtml5Audio(),r._errorFn=r._errorListener.bind(r),r._node.addEventListener("error",r._errorFn,!1),r._loadFn=r._loadListener.bind(r),r._node.addEventListener(t._canPlayEvent,r._loadFn,!1),r._endFn=r._endListener.bind(r),r._node.addEventListener("ended",r._endFn,!1),r._node.src=o._src,r._node.preload=o._preload===!0?"auto":o._preload,r._node.volume=s*t.volume(),r._node.load()),r},reset:function(){var r=this,o=r._parent;return r._muted=o._muted,r._loop=o._loop,r._volume=o._volume,r._rate=o._rate,r._seek=0,r._rateSeek=0,r._paused=!0,r._ended=!0,r._sprite="__default",r._id=++t._counter,r},_errorListener:function(){var r=this;r._parent._emit("loaderror",r._id,r._node.error?r._node.error.code:0),r._node.removeEventListener("error",r._errorFn,!1)},_loadListener:function(){var r=this,o=r._parent;o._duration=Math.ceil(r._node.duration*10)/10,Object.keys(o._sprite).length===0&&(o._sprite={__default:[0,o._duration*1e3]}),o._state!=="loaded"&&(o._state="loaded",o._emit("load"),o._loadQueue()),r._node.removeEventListener(t._canPlayEvent,r._loadFn,!1)},_endListener:function(){var r=this,o=r._parent;o._duration===1/0&&(o._duration=Math.ceil(r._node.duration*10)/10,o._sprite.__default[1]===1/0&&(o._sprite.__default[1]=o._duration*1e3),o._ended(r)),r._node.removeEventListener("ended",r._endFn,!1)}};var c={},d=function(r){var o=r._src;if(c[o]){r._duration=c[o].duration,y(r);return}if(/^data:[^;]+;base64,/.test(o)){for(var s=atob(o.split(",")[1]),l=new Uint8Array(s.length),_=0;_<s.length;++_)l[_]=s.charCodeAt(_);v(l.buffer,r)}else{var w=new XMLHttpRequest;w.open(r._xhr.method,o,!0),w.withCredentials=r._xhr.withCredentials,w.responseType="arraybuffer",r._xhr.headers&&Object.keys(r._xhr.headers).forEach(function(m){w.setRequestHeader(m,r._xhr.headers[m])}),w.onload=function(){var m=(w.status+"")[0];if(m!=="0"&&m!=="2"&&m!=="3"){r._emit("loaderror",null,"Failed loading audio file with status: "+w.status+".");return}v(w.response,r)},w.onerror=function(){r._webAudio&&(r._html5=!0,r._webAudio=!1,r._sounds=[],delete c[o],r.load())},k(w)}},k=function(r){try{r.send()}catch{r.onerror()}},v=function(r,o){var s=function(){o._emit("loaderror",null,"Decoding audio data failed.")},l=function(_){_&&o._sounds.length>0?(c[o._src]=_,y(o,_)):s()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(r).then(l).catch(s):t.ctx.decodeAudioData(r,l,s)},y=function(r,o){o&&!r._duration&&(r._duration=o.duration),Object.keys(r._sprite).length===0&&(r._sprite={__default:[0,r._duration*1e3]}),r._state!=="loaded"&&(r._state="loaded",r._emit("load"),r._loadQueue())},G=function(){if(!!t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var r=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),o=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),s=o?parseInt(o[1],10):null;if(r&&s&&s<9){var l=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!l&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};e.Howler=t,e.Howl=i,typeof yt<"u"?(yt.HowlerGlobal=n,yt.Howler=t,yt.Howl=i,yt.Sound=a):typeof window<"u"&&(window.HowlerGlobal=n,window.Howler=t,window.Howl=i,window.Sound=a)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var a=i._howls.length-1;a>=0;a--)i._howls[a].stereo(t);return i},HowlerGlobal.prototype.pos=function(t,i,a){var c=this;if(!c.ctx||!c.ctx.listener)return c;if(i=typeof i!="number"?c._pos[1]:i,a=typeof a!="number"?c._pos[2]:a,typeof t=="number")c._pos=[t,i,a],typeof c.ctx.listener.positionX<"u"?(c.ctx.listener.positionX.setTargetAtTime(c._pos[0],Howler.ctx.currentTime,.1),c.ctx.listener.positionY.setTargetAtTime(c._pos[1],Howler.ctx.currentTime,.1),c.ctx.listener.positionZ.setTargetAtTime(c._pos[2],Howler.ctx.currentTime,.1)):c.ctx.listener.setPosition(c._pos[0],c._pos[1],c._pos[2]);else return c._pos;return c},HowlerGlobal.prototype.orientation=function(t,i,a,c,d,k){var v=this;if(!v.ctx||!v.ctx.listener)return v;var y=v._orientation;if(i=typeof i!="number"?y[1]:i,a=typeof a!="number"?y[2]:a,c=typeof c!="number"?y[3]:c,d=typeof d!="number"?y[4]:d,k=typeof k!="number"?y[5]:k,typeof t=="number")v._orientation=[t,i,a,c,d,k],typeof v.ctx.listener.forwardX<"u"?(v.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),v.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),v.ctx.listener.forwardZ.setTargetAtTime(a,Howler.ctx.currentTime,.1),v.ctx.listener.upX.setTargetAtTime(c,Howler.ctx.currentTime,.1),v.ctx.listener.upY.setTargetAtTime(d,Howler.ctx.currentTime,.1),v.ctx.listener.upZ.setTargetAtTime(k,Howler.ctx.currentTime,.1)):v.ctx.listener.setOrientation(t,i,a,c,d,k);else return y;return v},Howl.prototype.init=function(t){return function(i){var a=this;return a._orientation=i.orientation||[1,0,0],a._stereo=i.stereo||null,a._pos=i.pos||null,a._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},a._onstereo=i.onstereo?[{fn:i.onstereo}]:[],a._onpos=i.onpos?[{fn:i.onpos}]:[],a._onorientation=i.onorientation?[{fn:i.onorientation}]:[],t.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,i){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"stereo",action:function(){a.stereo(t,i)}}),a;var c=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof t=="number")a._stereo=t,a._pos=[t,0,0];else return a._stereo;for(var d=a._getSoundIds(i),k=0;k<d.length;k++){var v=a._soundById(d[k]);if(v)if(typeof t=="number")v._stereo=t,v._pos=[t,0,0],v._node&&(v._pannerAttr.panningModel="equalpower",(!v._panner||!v._panner.pan)&&n(v,c),c==="spatial"?typeof v._panner.positionX<"u"?(v._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):v._panner.setPosition(t,0,0):v._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),a._emit("stereo",v._id);else return v._stereo}return a},Howl.prototype.pos=function(t,i,a,c){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"pos",action:function(){d.pos(t,i,a,c)}}),d;if(i=typeof i!="number"?0:i,a=typeof a!="number"?-.5:a,typeof c>"u")if(typeof t=="number")d._pos=[t,i,a];else return d._pos;for(var k=d._getSoundIds(c),v=0;v<k.length;v++){var y=d._soundById(k[v]);if(y)if(typeof t=="number")y._pos=[t,i,a],y._node&&((!y._panner||y._panner.pan)&&n(y,"spatial"),typeof y._panner.positionX<"u"?(y._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),y._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),y._panner.positionZ.setValueAtTime(a,Howler.ctx.currentTime)):y._panner.setPosition(t,i,a)),d._emit("pos",y._id);else return y._pos}return d},Howl.prototype.orientation=function(t,i,a,c){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"orientation",action:function(){d.orientation(t,i,a,c)}}),d;if(i=typeof i!="number"?d._orientation[1]:i,a=typeof a!="number"?d._orientation[2]:a,typeof c>"u")if(typeof t=="number")d._orientation=[t,i,a];else return d._orientation;for(var k=d._getSoundIds(c),v=0;v<k.length;v++){var y=d._soundById(k[v]);if(y)if(typeof t=="number")y._orientation=[t,i,a],y._node&&(y._panner||(y._pos||(y._pos=d._pos||[0,0,-.5]),n(y,"spatial")),typeof y._panner.orientationX<"u"?(y._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),y._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),y._panner.orientationZ.setValueAtTime(a,Howler.ctx.currentTime)):y._panner.setOrientation(t,i,a)),d._emit("orientation",y._id);else return y._orientation}return d},Howl.prototype.pannerAttr=function(){var t=this,i=arguments,a,c,d;if(!t._webAudio)return t;if(i.length===0)return t._pannerAttr;if(i.length===1)if(typeof i[0]=="object")a=i[0],typeof c>"u"&&(a.pannerAttr||(a.pannerAttr={coneInnerAngle:a.coneInnerAngle,coneOuterAngle:a.coneOuterAngle,coneOuterGain:a.coneOuterGain,distanceModel:a.distanceModel,maxDistance:a.maxDistance,refDistance:a.refDistance,rolloffFactor:a.rolloffFactor,panningModel:a.panningModel}),t._pannerAttr={coneInnerAngle:typeof a.pannerAttr.coneInnerAngle<"u"?a.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof a.pannerAttr.coneOuterAngle<"u"?a.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof a.pannerAttr.coneOuterGain<"u"?a.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof a.pannerAttr.distanceModel<"u"?a.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof a.pannerAttr.maxDistance<"u"?a.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof a.pannerAttr.refDistance<"u"?a.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof a.pannerAttr.rolloffFactor<"u"?a.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof a.pannerAttr.panningModel<"u"?a.pannerAttr.panningModel:t._panningModel});else return d=t._soundById(parseInt(i[0],10)),d?d._pannerAttr:t._pannerAttr;else i.length===2&&(a=i[0],c=parseInt(i[1],10));for(var k=t._getSoundIds(c),v=0;v<k.length;v++)if(d=t._soundById(k[v]),d){var y=d._pannerAttr;y={coneInnerAngle:typeof a.coneInnerAngle<"u"?a.coneInnerAngle:y.coneInnerAngle,coneOuterAngle:typeof a.coneOuterAngle<"u"?a.coneOuterAngle:y.coneOuterAngle,coneOuterGain:typeof a.coneOuterGain<"u"?a.coneOuterGain:y.coneOuterGain,distanceModel:typeof a.distanceModel<"u"?a.distanceModel:y.distanceModel,maxDistance:typeof a.maxDistance<"u"?a.maxDistance:y.maxDistance,refDistance:typeof a.refDistance<"u"?a.refDistance:y.refDistance,rolloffFactor:typeof a.rolloffFactor<"u"?a.rolloffFactor:y.rolloffFactor,panningModel:typeof a.panningModel<"u"?a.panningModel:y.panningModel};var G=d._panner;G?(G.coneInnerAngle=y.coneInnerAngle,G.coneOuterAngle=y.coneOuterAngle,G.coneOuterGain=y.coneOuterGain,G.distanceModel=y.distanceModel,G.maxDistance=y.maxDistance,G.refDistance=y.refDistance,G.rolloffFactor=y.rolloffFactor,G.panningModel=y.panningModel):(d._pos||(d._pos=t._pos||[0,0,-.5]),n(d,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var i=this,a=i._parent;i._orientation=a._orientation,i._stereo=a._stereo,i._pos=a._pos,i._pannerAttr=a._pannerAttr,t.call(this),i._stereo?a.stereo(i._stereo):i._pos&&a.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var i=this,a=i._parent;return i._orientation=a._orientation,i._stereo=a._stereo,i._pos=a._pos,i._pannerAttr=a._pannerAttr,i._stereo?a.stereo(i._stereo):i._pos?a.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,a._refreshBuffer(i)),t.call(this)}}(Sound.prototype.reset);var n=function(t,i){i=i||"spatial",i==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(_n);const Ai=Yt.exports.NativeEventSource||Yt.exports.EventSourcePolyfill,Ti=e=>{const n=new Ai(e+"/events"),t=new Ue,i=new _n.Howl({src:[e+"/themes/core/static/sounds/notification.webm",e+"/themes/core/static/sounds/notification.mp3"]});function a(){n.addEventListener("notification",function(k){let v=JSON.parse(k.data);t.broadcast("notification",v),d(v),v.sound&&i.play()},!1)}function c(){n&&n.close()}function d(k){switch(k.type){case"toast":{B._functions.events.eventToast(k);break}case"alert":{B._functions.events.eventAlert(k);break}case"background":{B._functions.events.eventBackground(k);break}default:{console.log(k),alert(k);break}}}t.alert=function(k){d(k)},t.toast=function(k){d(k)},t.background=function(k){d(k)},t.masterDidChange=function(){this.isMaster?a():c()}},ar={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};function sr(e,n){try{return e(n)}catch{return n}}const tt=document,Jt=window,cr=tt.documentElement,At=tt.createElement.bind(tt),ur=At("div"),cn=At("table"),Ei=At("tbody"),Ln=At("tr"),{isArray:zt,prototype:lr}=Array,{concat:xi,filter:gn,indexOf:fr,map:dr,push:Si,slice:hr,some:vn,splice:ki}=lr,Ci=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,Oi=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,Mi=/<.+>/,Ii=/^\w+$/;function yn(e,n){const t=Di(n);return!e||!t&&!Pt(n)&&!_e(n)?[]:!t&&Oi.test(e)?n.getElementsByClassName(e.slice(1)):!t&&Ii.test(e)?n.getElementsByTagName(e):n.querySelectorAll(e)}class en{constructor(n,t){if(!n)return;if(dn(n))return n;let i=n;if(Ce(n)){const a=(dn(t)?t[0]:t)||tt;if(i=Ci.test(n)&&"getElementById"in a?a.getElementById(n.slice(1)):Mi.test(n)?Tr(n):yn(n,a),!i)return}else if(Tt(n))return this.ready(n);(i.nodeType||i===Jt)&&(i=[i]),this.length=i.length;for(let a=0,c=this.length;a<c;a++)this[a]=i[a]}init(n,t){return new en(n,t)}}const I=en.prototype,V=I.init;V.fn=V.prototype=I;I.length=0;I.splice=ki;typeof Symbol=="function"&&(I[Symbol.iterator]=lr[Symbol.iterator]);I.map=function(e){return V(xi.apply([],dr.call(this,(n,t)=>e.call(n,t,n))))};I.slice=function(e,n){return V(hr.call(this,e,n))};const Ni=/-([a-z])/g;function bn(e){return e.replace(Ni,(n,t)=>t.toUpperCase())}V.guid=1;function pr(e,n){const t=e&&(e.matches||e.webkitMatchesSelector||e.msMatchesSelector);return!!t&&!!n&&t.call(e,n)}function dn(e){return e instanceof en}function Dt(e){return!!e&&e===e.window}function Pt(e){return!!e&&e.nodeType===9}function Di(e){return!!e&&e.nodeType===11}function _e(e){return!!e&&e.nodeType===1}function Pi(e){return typeof e=="boolean"}function Tt(e){return typeof e=="function"}function Ce(e){return typeof e=="string"}function Ie(e){return e===void 0}function Bt(e){return e===null}function mr(e){return!isNaN(parseFloat(e))&&isFinite(e)}function wn(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return n===null||n===Object.prototype}V.isWindow=Dt;V.isFunction=Tt;V.isArray=zt;V.isNumeric=mr;V.isPlainObject=wn;I.get=function(e){return Ie(e)?hr.call(this):(e=Number(e),this[e<0?e+this.length:e])};I.eq=function(e){return V(this.get(e))};I.first=function(){return this.eq(0)};I.last=function(){return this.eq(-1)};function me(e,n,t){if(t){let i=e.length;for(;i--;)if(n.call(e[i],i,e[i])===!1)return e}else if(wn(e)){const i=Object.keys(e);for(let a=0,c=i.length;a<c;a++){const d=i[a];if(n.call(e[d],d,e[d])===!1)return e}}else for(let i=0,a=e.length;i<a;i++)if(n.call(e[i],i,e[i])===!1)return e;return e}V.each=me;I.each=function(e){return me(this,e)};I.prop=function(e,n){if(!!e){if(Ce(e))return e=ar[e]||e,arguments.length<2?this[0]&&this[0][e]:this.each((t,i)=>{i[e]=n});for(const t in e)this.prop(t,e[t]);return this}};I.removeProp=function(e){return this.each((n,t)=>{delete t[ar[e]||e]})};function Qt(...e){const n=Pi(e[0])?e.shift():!1,t=e.shift(),i=e.length;if(!t)return{};if(!i)return Qt(n,V,t);for(let a=0;a<i;a++){const c=e[a];for(const d in c)n&&(zt(c[d])||wn(c[d]))?((!t[d]||t[d].constructor!==c[d].constructor)&&(t[d]=new c[d].constructor),Qt(n,t[d],c[d])):t[d]=c[d]}return t}V.extend=Qt;I.extend=function(e){return Qt(I,e)};function tn(e){return Ce(e)?(n,t)=>pr(t,e):Tt(e)?e:dn(e)?(n,t)=>e.is(t):e?(n,t)=>t===e:()=>!1}I.filter=function(e){const n=tn(e);return V(gn.call(this,(t,i)=>n.call(t,i,t)))};function ut(e,n){return n?e.filter(n):e}const Li=/\S+/g;function nn(e){return Ce(e)?e.match(Li)||[]:[]}I.hasClass=function(e){return!!e&&vn.call(this,n=>_e(n)&&n.classList.contains(e))};I.removeAttr=function(e){const n=nn(e);return this.each((t,i)=>{!_e(i)||me(n,(a,c)=>{i.removeAttribute(c)})})};function Ri(e,n){if(!!e){if(Ce(e)){if(arguments.length<2){if(!this[0]||!_e(this[0]))return;const t=this[0].getAttribute(e);return Bt(t)?void 0:t}return Ie(n)?this:Bt(n)?this.removeAttr(e):this.each((t,i)=>{!_e(i)||i.setAttribute(e,n)})}for(const t in e)this.attr(t,e[t]);return this}}I.attr=Ri;I.toggleClass=function(e,n){const t=nn(e),i=!Ie(n);return this.each((a,c)=>{!_e(c)||me(t,(d,k)=>{i?n?c.classList.add(k):c.classList.remove(k):c.classList.toggle(k)})})};I.addClass=function(e){return this.toggleClass(e,!0)};I.removeClass=function(e){return arguments.length?this.toggleClass(e,!1):this.attr("class","")};function rt(e,n,t,i){const a=[],c=Tt(n),d=i&&tn(i);for(let k=0,v=e.length;k<v;k++)if(c){const y=n(e[k]);y.length&&Si.apply(a,y)}else{let y=e[k][n];for(;y!=null&&!(i&&d(-1,y));)a.push(y),y=t?y[n]:null}return a}function Xe(e){return e.length>1?gn.call(e,(n,t,i)=>fr.call(i,n)===t):e}V.unique=Xe;I.add=function(e,n){return V(Xe(this.get().concat(V(e,n).get())))};function nt(e,n,t){if(!_e(e))return;const i=Jt.getComputedStyle(e,null);return t?i.getPropertyValue(n)||void 0:i[n]||e.style[n]}function Ve(e,n){return parseInt(nt(e,n),10)||0}const Fi=/^--/;function An(e){return Fi.test(e)}const un={},{style:Hi}=ur,Bi=["webkit","moz","ms"];function ji(e,n=An(e)){if(n)return e;if(!un[e]){const t=bn(e),i=`${t[0].toUpperCase()}${t.slice(1)}`,a=`${t} ${Bi.join(`${i} `)}${i}`.split(" ");me(a,(c,d)=>{if(d in Hi)return un[e]=d,!1})}return un[e]}const $i={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function _r(e,n,t=An(e)){return!t&&!$i[e]&&mr(n)?`${n}px`:n}function qi(e,n){if(Ce(e)){const t=An(e);return e=ji(e,t),arguments.length<2?this[0]&&nt(this[0],e,t):e?(n=_r(e,n,t),this.each((i,a)=>{!_e(a)||(t?a.style.setProperty(e,n):a.style[e]=n)})):this}for(const t in e)this.css(t,e[t]);return this}I.css=qi;const Vi=/^\s+|\s+$/;function Rn(e,n){const t=e.dataset[n]||e.dataset[bn(n)];return Vi.test(t)?t:sr(JSON.parse,t)}function Gi(e,n,t){t=sr(JSON.stringify,t),e.dataset[bn(n)]=t}function Ui(e,n){if(!e){if(!this[0])return;const t={};for(const i in this[0].dataset)t[i]=Rn(this[0],i);return t}if(Ce(e))return arguments.length<2?this[0]&&Rn(this[0],e):Ie(n)?this:this.each((t,i)=>{Gi(i,e,n)});for(const t in e)this.data(t,e[t]);return this}I.data=Ui;function gr(e,n){const t=e.documentElement;return Math.max(e.body[`scroll${n}`],t[`scroll${n}`],e.body[`offset${n}`],t[`offset${n}`],t[`client${n}`])}function Fn(e,n){return Ve(e,`border${n?"Left":"Top"}Width`)+Ve(e,`padding${n?"Left":"Top"}`)+Ve(e,`padding${n?"Right":"Bottom"}`)+Ve(e,`border${n?"Right":"Bottom"}Width`)}me([!0,!1],(e,n)=>{me(["Width","Height"],(t,i)=>{const a=`${n?"outer":"inner"}${i}`;I[a]=function(c){if(!!this[0])return Dt(this[0])?n?this[0][`inner${i}`]:this[0].document.documentElement[`client${i}`]:Pt(this[0])?gr(this[0],i):this[0][`${n?"offset":"client"}${i}`]+(c&&n?Ve(this[0],`margin${t?"Top":"Left"}`)+Ve(this[0],`margin${t?"Bottom":"Right"}`):0)}})});me(["Width","Height"],(e,n)=>{const t=n.toLowerCase();I[t]=function(i){if(!this[0])return Ie(i)?void 0:this;if(!arguments.length)return Dt(this[0])?this[0].document.documentElement[`client${n}`]:Pt(this[0])?gr(this[0],n):this[0].getBoundingClientRect()[t]-Fn(this[0],!e);const a=parseInt(i,10);return this.each((c,d)=>{if(!_e(d))return;const k=nt(d,"boxSizing");d.style[t]=_r(t,a+(k==="border-box"?Fn(d,!e):0))})}});const ln={};function Xi(e){if(ln[e])return ln[e];const n=At(e);tt.body.insertBefore(n,null);const t=nt(n,"display");return tt.body.removeChild(n),ln[e]=t!=="none"?t:"block"}function Hn(e){return nt(e,"display")==="none"}const Bn="___cd";I.toggle=function(e){return this.each((n,t)=>{if(!_e(t))return;(Ie(e)?Hn(t):e)?(t.style.display=t[Bn]||"",Hn(t)&&(t.style.display=Xi(t.tagName))):(t[Bn]=nt(t,"display"),t.style.display="none")})};I.hide=function(){return this.toggle(!1)};I.show=function(){return this.toggle(!0)};function vr(e,n){return!n||!vn.call(n,t=>e.indexOf(t)<0)}const jn="___ce",Tn=".",En={focus:"focusin",blur:"focusout"},yr={mouseenter:"mouseover",mouseleave:"mouseout"},Wi=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function xn(e){return yr[e]||En[e]||e}function br(e){return e[jn]=e[jn]||{}}function Yi(e,n,t,i,a){const c=br(e);c[n]=c[n]||[],c[n].push([t,i,a]),e.addEventListener(n,a)}function Sn(e){const n=e.split(Tn);return[n[0],n.slice(1).sort()]}function Kt(e,n,t,i,a){const c=br(e);if(n)c[n]&&(c[n]=c[n].filter(([d,k,v])=>{if(a&&v.guid!==a.guid||!vr(d,t)||i&&i!==k)return!0;e.removeEventListener(n,v)}));else for(n in c)Kt(e,n,t,i,a)}I.off=function(e,n,t){if(Ie(e))this.each((i,a)=>{!_e(a)&&!Pt(a)&&!Dt(a)||Kt(a)});else if(Ce(e))Tt(n)&&(t=n,n=""),me(nn(e),(i,a)=>{const[c,d]=Sn(a),k=xn(c);this.each((v,y)=>{!_e(y)&&!Pt(y)&&!Dt(y)||Kt(y,k,d,n,t)})});else for(const i in e)this.off(i,e[i]);return this};function Ji(e,n,t,i,a){if(!Ce(e)){for(const c in e)this.on(c,n,t,e[c],a);return this}return Ce(n)||(Ie(n)||Bt(n)?n="":Ie(t)?(t=n,n=""):(i=t,t=n,n="")),Tt(i)||(i=t,t=void 0),i?(me(nn(e),(c,d)=>{const[k,v]=Sn(d),y=xn(k),G=k in yr,r=k in En;!y||this.each((o,s)=>{if(!_e(s)&&!Pt(s)&&!Dt(s))return;const l=function(_){if(_.target[`___i${_.type}`])return _.stopImmediatePropagation();if(_.namespace&&!vr(v,_.namespace.split(Tn))||!n&&(r&&(_.target!==s||_.___ot===y)||G&&_.relatedTarget&&s.contains(_.relatedTarget)))return;let w=s;if(n){let N=_.target;for(;!pr(N,n);)if(N===s||(N=N.parentNode,!N))return;w=N}Object.defineProperty(_,"currentTarget",{configurable:!0,get(){return w}}),Object.defineProperty(_,"delegateTarget",{configurable:!0,get(){return s}}),Object.defineProperty(_,"data",{configurable:!0,get(){return t}});const m=i.call(w,_,_.___td);a&&Kt(s,y,v,n,l),m===!1&&(_.preventDefault(),_.stopPropagation())};l.guid=i.guid=i.guid||V.guid++,Yi(s,y,v,n,l)})}),this):this}I.on=Ji;function Qi(e,n,t,i){return this.on(e,n,t,i,!0)}I.one=Qi;I.ready=function(e){const n=()=>setTimeout(e,0,V);return tt.readyState!=="loading"?n():tt.addEventListener("DOMContentLoaded",n),this};I.trigger=function(e,n){if(Ce(e)){const[i,a]=Sn(e),c=xn(i);if(!c)return this;const d=Wi.test(c)?"MouseEvents":"HTMLEvents";e=tt.createEvent(d),e.initEvent(c,!0,!0),e.namespace=a.join(Tn),e.___ot=i}e.___td=n;const t=e.___ot in En;return this.each((i,a)=>{t&&Tt(a[e.___ot])&&(a[`___i${e.type}`]=!0,a[e.___ot](),a[`___i${e.type}`]=!1),a.dispatchEvent(e)})};function wr(e){return e.multiple&&e.options?rt(gn.call(e.options,n=>n.selected&&!n.disabled&&!n.parentNode.disabled),"value"):e.value||""}const Ki=/%20/g,Zi=/\r?\n/g;function zi(e,n){return`&${encodeURIComponent(e)}=${encodeURIComponent(n.replace(Zi,`\r
`)).replace(Ki,"+")}`}const eo=/file|reset|submit|button|image/i,Ar=/radio|checkbox/i;I.serialize=function(){let e="";return this.each((n,t)=>{me(t.elements||[t],(i,a)=>{if(a.disabled||!a.name||a.tagName==="FIELDSET"||eo.test(a.type)||Ar.test(a.type)&&!a.checked)return;const c=wr(a);if(!Ie(c)){const d=zt(c)?c:[c];me(d,(k,v)=>{e+=zi(a.name,v)})}})}),e.slice(1)};function to(e){return arguments.length?this.each((n,t)=>{const i=t.multiple&&t.options;if(i||Ar.test(t.type)){const a=zt(e)?dr.call(e,String):Bt(e)?[]:[String(e)];i?me(t.options,(c,d)=>{d.selected=a.indexOf(d.value)>=0},!0):t.checked=a.indexOf(t.value)>=0}else t.value=Ie(e)||Bt(e)?"":e}):this[0]&&wr(this[0])}I.val=to;I.clone=function(){return this.map((e,n)=>n.cloneNode(!0))};I.detach=function(e){return ut(this,e).each((n,t)=>{t.parentNode&&t.parentNode.removeChild(t)}),this};const no=/^\s*<(\w+)[^>]*>/,ro=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,$n={"*":ur,tr:Ei,td:Ln,th:Ln,thead:cn,tbody:cn,tfoot:cn};function Tr(e){if(!Ce(e))return[];if(ro.test(e))return[At(RegExp.$1)];const n=no.test(e)&&RegExp.$1,t=$n[n]||$n["*"];return t.innerHTML=e,V(t.childNodes).detach().get()}V.parseHTML=Tr;I.empty=function(){return this.each((e,n)=>{for(;n.firstChild;)n.removeChild(n.firstChild)})};function io(e){return arguments.length?Ie(e)?this:this.each((n,t)=>{!_e(t)||(t.innerHTML=e)}):this[0]&&this[0].innerHTML}I.html=io;I.remove=function(e){return ut(this,e).detach().off(),this};function oo(e){return Ie(e)?this[0]?this[0].textContent:"":this.each((n,t)=>{!_e(t)||(t.textContent=e)})}I.text=oo;I.unwrap=function(){return this.parent().each((e,n)=>{if(n.tagName==="BODY")return;const t=V(n);t.replaceWith(t.children())}),this};I.offset=function(){const e=this[0];if(!e)return;const n=e.getBoundingClientRect();return{top:n.top+Jt.pageYOffset,left:n.left+Jt.pageXOffset}};I.offsetParent=function(){return this.map((e,n)=>{let t=n.offsetParent;for(;t&&nt(t,"position")==="static";)t=t.offsetParent;return t||cr})};I.position=function(){const e=this[0];if(!e)return;const n=nt(e,"position")==="fixed",t=n?e.getBoundingClientRect():this.offset();if(!n){const i=e.ownerDocument;let a=e.offsetParent||i.documentElement;for(;(a===i.body||a===i.documentElement)&&nt(a,"position")==="static";)a=a.parentNode;if(a!==e&&_e(a)){const c=V(a).offset();t.top-=c.top+Ve(a,"borderTopWidth"),t.left-=c.left+Ve(a,"borderLeftWidth")}}return{top:t.top-Ve(e,"marginTop"),left:t.left-Ve(e,"marginLeft")}};I.children=function(e){return ut(V(Xe(rt(this,n=>n.children))),e)};I.contents=function(){return V(Xe(rt(this,e=>e.tagName==="IFRAME"?[e.contentDocument]:e.tagName==="TEMPLATE"?e.content.childNodes:e.childNodes)))};I.find=function(e){return V(Xe(rt(this,n=>yn(e,n))))};const ao=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,so=/^$|^module$|\/(java|ecma)script/i,co=["type","src","nonce","noModule"];function uo(e,n){const t=V(e);t.filter("script").add(t.find("script")).each((i,a)=>{if(so.test(a.type)&&cr.contains(a)){const c=At("script");c.text=a.textContent.replace(ao,""),me(co,(d,k)=>{a[k]&&(c[k]=a[k])}),n.head.insertBefore(c,null),n.head.removeChild(c)}})}function lo(e,n,t,i,a){i?e.insertBefore(n,t?e.firstChild:null):e.nodeName==="HTML"?e.parentNode.replaceChild(n,e):e.parentNode.insertBefore(n,t?e:e.nextSibling),a&&uo(n,e.ownerDocument)}function lt(e,n,t,i,a,c,d,k){return me(e,(v,y)=>{me(V(y),(G,r)=>{me(V(n),(o,s)=>{const l=t?r:s,_=t?s:r,w=t?G:o;lo(l,w?_.cloneNode(!0):_,i,a,!w)},k)},d)},c),n}I.after=function(){return lt(arguments,this,!1,!1,!1,!0,!0)};I.append=function(){return lt(arguments,this,!1,!1,!0)};I.appendTo=function(e){return lt(arguments,this,!0,!1,!0)};I.before=function(){return lt(arguments,this,!1,!0)};I.insertAfter=function(e){return lt(arguments,this,!0,!1,!1,!1,!1,!0)};I.insertBefore=function(e){return lt(arguments,this,!0,!0)};I.prepend=function(){return lt(arguments,this,!1,!0,!0,!0,!0)};I.prependTo=function(e){return lt(arguments,this,!0,!0,!0,!1,!1,!0)};I.replaceWith=function(e){return this.before(e).remove()};I.replaceAll=function(e){return V(e).replaceWith(this),this};I.wrapAll=function(e){let n=V(e),t=n[0];for(;t.children.length;)t=t.firstElementChild;return this.first().before(n),this.appendTo(t)};I.wrap=function(e){return this.each((n,t)=>{const i=V(e)[0];V(t).wrapAll(n?i.cloneNode(!0):i)})};I.wrapInner=function(e){return this.each((n,t)=>{const i=V(t),a=i.contents();a.length?a.wrapAll(e):i.append(e)})};I.has=function(e){const n=Ce(e)?(t,i)=>yn(e,i).length:(t,i)=>i.contains(e);return this.filter(n)};I.is=function(e){const n=tn(e);return vn.call(this,(t,i)=>n.call(t,i,t))};I.next=function(e,n,t){return ut(V(Xe(rt(this,"nextElementSibling",n,t))),e)};I.nextAll=function(e){return this.next(e,!0)};I.nextUntil=function(e,n){return this.next(n,!0,e)};I.not=function(e){const n=tn(e);return this.filter((t,i)=>(!Ce(e)||_e(i))&&!n.call(i,t,i))};I.parent=function(e){return ut(V(Xe(rt(this,"parentNode"))),e)};I.index=function(e){const n=e?V(e)[0]:this[0],t=e?this:V(n).parent().children();return fr.call(t,n)};I.closest=function(e){const n=this.filter(e);if(n.length)return n;const t=this.parent();return t.length?t.closest(e):n};I.parents=function(e,n){return ut(V(Xe(rt(this,"parentElement",!0,n))),e)};I.parentsUntil=function(e,n){return this.parents(n,e)};I.prev=function(e,n,t){return ut(V(Xe(rt(this,"previousElementSibling",n,t))),e)};I.prevAll=function(e){return this.prev(e,!0)};I.prevUntil=function(e,n){return this.prev(n,!0,e)};I.siblings=function(e){return ut(V(Xe(rt(this,n=>V(n).parent().children().not(n)))),e)};var Er={exports:{}};(function(e,n){(function(t,i){e.exports=i()})(yt,function(){return function(t,i,a){t=t||{};var c=i.prototype,d={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function k(y,G,r,o){return c.fromToBase(y,G,r,o)}a.en.relativeTime=d,c.fromToBase=function(y,G,r,o,s){for(var l,_,w,m=r.$locale().relativeTime||d,N=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],F=N.length,W=0;W<F;W+=1){var Q=N[W];Q.d&&(l=o?a(y).diff(r,Q.d,!0):r.diff(y,Q.d,!0));var ne=(t.rounding||Math.round)(Math.abs(l));if(w=l>0,ne<=Q.r||!Q.r){ne<=1&&W>0&&(Q=N[W-1]);var oe=m[Q.l];s&&(ne=s(""+ne)),_=typeof oe=="string"?oe.replace("%d",ne):oe(ne,G,Q.l,w);break}}if(G)return _;var Ne=w?m.future:m.past;return typeof Ne=="function"?Ne(_):Ne.replace("%s",_)},c.to=function(y,G){return k(y,G,this,!0)},c.from=function(y,G){return k(y,G,this)};var v=function(y){return y.$u?a.utc():a()};c.toNow=function(y){return this.to(v(this),y)},c.fromNow=function(y){return this.from(v(this),y)}}})})(Er);const xr=Er.exports;Te.extend(Zt);Te.extend(xr);const It={id:null,name:null,email:null},Wt={id:null,name:null},fo={},ho={challenge:{displayChallenge:null,renderChallenge:null,displayHint:e=>{alert(e.content)},displayUnlock:e=>confirm("Are you sure you'd like to unlock this hint?"),displayUnlockError:e=>{let n=[];Object.keys(e.errors).map(i=>{n.push(e.errors[i])});let t=n.join(`
`);alert(t)},submitChallenge:null,displaySubmissionResponse:null,displaySolves:null},challenges:{displayChallenges:null,sortChallenges:null},events:{eventAlert:null,eventToast:null,eventBackground:null}},po={htmlEntities:or,colorHash:ni,copyToClipboard:ti,hashCode:ei,renderTimes:zr},mo={ajax:{getScript:Kn},html:{createHtmlNode:wi,htmlEntities:or}},_o={challenge:{displayChallenge:ri,submitChallenge:ii,loadSolves:nr,displaySolves:oi,loadHint:Zn,loadUnlock:zn,displayUnlock:tr,displayHint:er},challenges:{getChallenges:rr,getChallenge:ir,displayChallenges:ai},scoreboard:{getScoreboard:si,getScoreboardDetail:ci},settings:{updateSettings:ui,generateToken:li,deleteToken:fi},users:{userSolves:di,userFails:hi,userAwards:pi},teams:{getInviteToken:mi,disbandTeam:_i,updateTeamSettings:gi,teamSolves:vi,teamFails:yi,teamAwards:bi}},go={$:V,dayjs:Te};let qn=!1;const vo=e=>{qn||(qn=!0,ve.urlRoot=e.urlRoot||ve.urlRoot,ve.csrfNonce=e.csrfNonce||ve.csrfNonce,ve.userMode=e.userMode||ve.userMode,ve.start=e.start||ve.start,ve.end=e.end||ve.end,ve.themeSettings=e.themeSettings||ve.themeSettings,It.id=e.userId,It.name=e.userName||It.name,It.email=e.userEmail||It.email,Wt.id=e.teamId,Wt.name=e.teamName||Wt.name,Ti(ve.urlRoot))},yo={run:e=>{e(B)}},B={init:vo,config:ve,fetch:Zr,user:It,team:Wt,ui:po,utils:mo,pages:_o,_internal:fo,_functions:ho,plugin:yo,lib:go};window.CTFd=B;/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 0.0.6
*/(function(){const e=Object.freeze({inline:!1,width:null,height:null,hFlip:!1,vFlip:!1,rotate:0}),n=/[\s,]+/,{inline:t,...i}={...e,preserveAspectRatio:""};function a(u){const h={...i},f=(p,E)=>u.getAttribute(p)||E;var g;return h.width=f("width",null),h.height=f("height",null),h.rotate=function(p,E=0){const A=p.replace(/^-?[0-9.]*/,"");function x(b){for(;b<0;)b+=4;return b%4}if(A===""){const b=parseInt(p);return isNaN(b)?0:x(b)}if(A!==p){let b=0;switch(A){case"%":b=25;break;case"deg":b=90}if(b){let S=parseFloat(p.slice(0,p.length-A.length));return isNaN(S)?0:(S/=b,S%1==0?x(S):0)}}return E}(f("rotate","")),g=h,f("flip","").split(n).forEach(p=>{switch(p.trim()){case"horizontal":g.hFlip=!0;break;case"vertical":g.vFlip=!0}}),h.preserveAspectRatio=f("preserveAspectRatio",f("preserveaspectratio","")),h}const c=/^[a-z0-9]+(-[a-z0-9]+)*$/,d=Object.freeze({left:0,top:0,width:16,height:16,rotate:0,vFlip:!1,hFlip:!1});function k(u){return{...d,...u}}const v=(u,h,f,g="")=>{const p=u.split(":");if(u.slice(0,1)==="@"){if(p.length<2||p.length>3)return null;g=p.shift().slice(1)}if(p.length>3||!p.length)return null;if(p.length>1){const x=p.pop(),b=p.pop(),S={provider:p.length>0?p[0]:g,prefix:b,name:x};return h&&!y(S)?null:S}const E=p[0],A=E.split("-");if(A.length>1){const x={provider:g,prefix:A.shift(),name:A.join("-")};return h&&!y(x)?null:x}if(f&&g===""){const x={provider:g,prefix:"",name:E};return h&&!y(x,f)?null:x}return null},y=(u,h)=>!!u&&!(u.provider!==""&&!u.provider.match(c)||!(h&&u.prefix===""||u.prefix.match(c))||!u.name.match(c));function G(u,h,f=!1){const g=function p(E,A){if(u.icons[E]!==void 0)return Object.assign({},u.icons[E]);if(A>5)return null;const x=u.aliases;if(x&&x[E]!==void 0){const S=x[E],C=p(S.parent,A+1);return C&&function(D,R){const P={...D};for(const U in d){const ee=U;if(R[ee]!==void 0){const de=R[ee];if(P[ee]===void 0){P[ee]=de;continue}switch(ee){case"rotate":P[ee]=(P[ee]+de)%4;break;case"hFlip":case"vFlip":P[ee]=de!==P[ee];break;default:P[ee]=de}}}return P}(C,S)}const b=u.chars;return!A&&b&&b[E]!==void 0?p(b[E],A+1):null}(h,0);if(g)for(const p in d)g[p]===void 0&&u[p]!==void 0&&(g[p]=u[p]);return g&&f?k(g):g}function r(u,h,f){f=f||{};const g=[];if(typeof u!="object"||typeof u.icons!="object")return g;u.not_found instanceof Array&&u.not_found.forEach(A=>{h(A,null),g.push(A)});const p=u.icons;Object.keys(p).forEach(A=>{const x=G(u,A,!0);x&&(h(A,x),g.push(A))});const E=f.aliases||"all";if(E!=="none"&&typeof u.aliases=="object"){const A=u.aliases;Object.keys(A).forEach(x=>{if(E==="variations"&&function(S){for(const C in d)if(S[C]!==void 0)return!0;return!1}(A[x]))return;const b=G(u,x,!0);b&&(h(x,b),g.push(x))})}return g}const o={provider:"string",aliases:"object",not_found:"object"};for(const u in d)o[u]=typeof d[u];function s(u){if(typeof u!="object"||u===null)return null;const h=u;if(typeof h.prefix!="string"||!u.icons||typeof u.icons!="object")return null;for(const p in o)if(u[p]!==void 0&&typeof u[p]!==o[p])return null;const f=h.icons;for(const p in f){const E=f[p];if(!p.match(c)||typeof E.body!="string")return null;for(const A in d)if(E[A]!==void 0&&typeof E[A]!=typeof d[A])return null}const g=h.aliases;if(g)for(const p in g){const E=g[p],A=E.parent;if(!p.match(c)||typeof A!="string"||!f[A]&&!g[A])return null;for(const x in d)if(E[x]!==void 0&&typeof E[x]!=typeof d[x])return null}return h}let l=Object.create(null);try{const u=window||self;u&&u._iconifyStorage.version===1&&(l=u._iconifyStorage.storage)}catch{}function _(){try{const u=window||self;u&&!u._iconifyStorage&&(u._iconifyStorage={version:1,storage:l})}catch{}}function w(u,h){l[u]===void 0&&(l[u]=Object.create(null));const f=l[u];return f[h]===void 0&&(f[h]=function(g,p){return{provider:g,prefix:p,icons:Object.create(null),missing:Object.create(null)}}(u,h)),f[h]}function m(u,h){if(!s(h))return[];const f=Date.now();return r(h,(g,p)=>{p?u.icons[g]=p:u.missing[g]=f})}function N(u,h){let f,g=[];return f=typeof u=="string"?[u]:Object.keys(l),f.forEach(p=>{let E;E=typeof p=="string"&&typeof h=="string"?[h]:l[p]===void 0?[]:Object.keys(l[p]),E.forEach(A=>{const x=w(p,A),b=Object.keys(x.icons).map(S=>(p!==""?"@"+p+":":"")+A+":"+S);g=g.concat(b)})}),g}let F=!1;function W(u){return typeof u=="boolean"&&(F=u),F}function Q(u){const h=typeof u=="string"?v(u,!0,F):u;if(!h)return;const f=w(h.provider,h.prefix),g=h.name;return f.icons[g]||(f.missing[g]?null:void 0)}function ne(u,h){const f=v(u,!0,F);return f?function(g,p,E){try{if(typeof E.body=="string")return g.icons[p]=Object.freeze(k(E)),!0}catch{}return!1}(w(f.provider,f.prefix),f.name,h):!1}function oe(u,h){if(typeof u!="object")return!1;if(typeof h!="string"&&(h=typeof u.provider=="string"?u.provider:""),F&&h===""&&(typeof u.prefix!="string"||u.prefix==="")){let f=!1;return s(u)&&(u.prefix="",r(u,(g,p)=>{p&&ne(g,p)&&(f=!0)})),f}return typeof u.prefix!="string"||!y({provider:h,prefix:u.prefix,name:"a"})?!1:!!m(w(h,u.prefix),u)}function Ne(u){return!!Q(u)}function Z(u){const h=Q(u);return h?{...h}:null}const he=Object.create(null),Ye=Object.create(null);function Fe(u,h){u.forEach(f=>{const g=f.provider;if(he[g]===void 0)return;const p=he[g],E=f.prefix,A=p[E];A&&(p[E]=A.filter(x=>x.id!==h))})}let ft=0;const Ee=Object.create(null);function dt(u,h){Ee[u]=h}function ht(u){return Ee[u]||Ee[""]}var He={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function it(u,h,f,g){const p=u.resources.length,E=u.random?Math.floor(Math.random()*p):u.index;let A;if(u.random){let ie=u.resources.slice(0);for(A=[];ie.length>1;){const et=Math.floor(Math.random()*ie.length);A.push(ie[et]),ie=ie.slice(0,et).concat(ie.slice(et+1))}A=A.concat(ie)}else A=u.resources.slice(E).concat(u.resources.slice(0,E));const x=Date.now();let b,S="pending",C=0,D=null,R=[],P=[];function U(){D&&(clearTimeout(D),D=null)}function ee(){S==="pending"&&(S="aborted"),U(),R.forEach(ie=>{ie.status==="pending"&&(ie.status="aborted")}),R=[]}function de(ie,et){et&&(P=[]),typeof ie=="function"&&P.push(ie)}function Ae(){S="failed",P.forEach(ie=>{ie(void 0,b)})}function ze(){R.forEach(ie=>{ie.status==="pending"&&(ie.status="aborted")}),R=[]}function Ot(){if(S!=="pending")return;U();const ie=A.shift();if(ie===void 0)return R.length?void(D=setTimeout(()=>{U(),S==="pending"&&(ze(),Ae())},u.timeout)):void Ae();const et={status:"pending",resource:ie,callback:(Pr,Lr)=>{(function(In,Nn,on){const Dn=Nn!=="success";switch(R=R.filter(vt=>vt!==In),S){case"pending":break;case"failed":if(Dn||!u.dataAfterTimeout)return;break;default:return}if(Nn==="abort")return b=on,void Ae();if(Dn)return b=on,void(R.length||(A.length?Ot():Ae()));if(U(),ze(),!u.random){const vt=u.resources.indexOf(In.resource);vt!==-1&&vt!==u.index&&(u.index=vt)}S="completed",P.forEach(vt=>{vt(on)})})(et,Pr,Lr)}};R.push(et),C++,D=setTimeout(Ot,u.rotate),f(ie,h,et.callback)}return typeof g=="function"&&P.push(g),setTimeout(Ot),function(){return{startTime:x,payload:h,status:S,queriesSent:C,queriesPending:R.length,subscribe:de,abort:ee}}}function ot(u){const h=function(p){if(!(typeof p=="object"&&typeof p.resources=="object"&&p.resources instanceof Array&&p.resources.length))throw new Error("Invalid Reduncancy configuration");const E=Object.create(null);let A;for(A in He)p[A]!==void 0?E[A]=p[A]:E[A]=He[A];return E}(u);let f=[];function g(){f=f.filter(p=>p().status==="pending")}return{query:function(p,E,A){const x=it(h,p,E,(b,S)=>{g(),A&&A(b,S)});return f.push(x),x},find:function(p){const E=f.find(A=>p(A));return E!==void 0?E:null},setIndex:p=>{h.index=p},getIndex:()=>h.index,cleanup:g}}function pt(u){let h;if(typeof u.resources=="string")h=[u.resources];else if(h=u.resources,!(h instanceof Array&&h.length))return null;return{resources:h,path:u.path===void 0?"/":u.path,maxURL:u.maxURL?u.maxURL:500,rotate:u.rotate?u.rotate:750,timeout:u.timeout?u.timeout:5e3,random:u.random===!0,index:u.index?u.index:0,dataAfterTimeout:u.dataAfterTimeout!==!1}}const Oe=Object.create(null),at=["https://api.simplesvg.com","https://api.unisvg.com"],Et=[];for(;at.length>0;)at.length===1||Math.random()>.5?Et.push(at.shift()):Et.push(at.pop());function $t(u,h){const f=pt(h);return f!==null&&(Oe[u]=f,!0)}function xt(u){return Oe[u]}function rn(){return Object.keys(Oe)}function qt(){}Oe[""]=pt({resources:["https://api.iconify.design"].concat(Et)});const mt=Object.create(null);function St(u,h,f){let g,p;if(typeof u=="string"){const E=ht(u);if(!E)return f(void 0,424),qt;p=E.send;const A=function(x){if(mt[x]===void 0){const b=xt(x);if(!b)return;const S={config:b,redundancy:ot(b)};mt[x]=S}return mt[x]}(u);A&&(g=A.redundancy)}else{const E=pt(u);if(E){g=ot(E);const A=ht(u.resources?u.resources[0]:"");A&&(p=A.send)}}return g&&p?g.query(h,p,f)().abort:(f(void 0,424),qt)}const je={};function xe(){}const Je=Object.create(null),Rt=Object.create(null),Ft=Object.create(null),kt=Object.create(null);function T(u,h){Ft[u]===void 0&&(Ft[u]=Object.create(null));const f=Ft[u];f[h]||(f[h]=!0,setTimeout(()=>{f[h]=!1,function(g,p){Ye[g]===void 0&&(Ye[g]=Object.create(null));const E=Ye[g];E[p]||(E[p]=!0,setTimeout(()=>{if(E[p]=!1,he[g]===void 0||he[g][p]===void 0)return;const A=he[g][p].slice(0);if(!A.length)return;const x=w(g,p);let b=!1;A.forEach(S=>{const C=S.icons,D=C.pending.length;C.pending=C.pending.filter(R=>{if(R.prefix!==p)return!0;const P=R.name;if(x.icons[P]!==void 0)C.loaded.push({provider:g,prefix:p,name:P});else{if(x.missing[P]===void 0)return b=!0,!0;C.missing.push({provider:g,prefix:p,name:P})}return!1}),C.pending.length!==D&&(b||Fe([{provider:g,prefix:p}],S.id),S.callback(C.loaded.slice(0),C.missing.slice(0),C.pending.slice(0),S.abort))})}))}(u,h)}))}const M=Object.create(null);function L(u,h,f){Rt[u]===void 0&&(Rt[u]=Object.create(null));const g=Rt[u];kt[u]===void 0&&(kt[u]=Object.create(null));const p=kt[u];Je[u]===void 0&&(Je[u]=Object.create(null));const E=Je[u];g[h]===void 0?g[h]=f:g[h]=g[h].concat(f).sort(),p[h]||(p[h]=!0,setTimeout(()=>{p[h]=!1;const A=g[h];delete g[h];const x=ht(u);if(!x)return void function(){const b=(u===""?"":"@"+u+":")+h,S=Math.floor(Date.now()/6e4);M[b]<S&&(M[b]=S,console.error('Unable to retrieve icons for "'+b+'" because API is not configured properly.'))}();x.prepare(u,h,A).forEach(b=>{St(u,b,(S,C)=>{const D=w(u,h);if(typeof S!="object"){if(C!==404)return;const R=Date.now();b.icons.forEach(P=>{D.missing[P]=R})}else try{const R=m(D,S);if(!R.length)return;const P=E[h];R.forEach(U=>{delete P[U]}),je.store&&je.store(u,S)}catch(R){console.error(R)}T(u,h)})})}))}const O=(u,h)=>{const f=function(S,C=!0,D=!1){const R=[];return S.forEach(P=>{const U=typeof P=="string"?v(P,!1,D):P;C&&!y(U,D)||R.push({provider:U.provider,prefix:U.prefix,name:U.name})}),R}(u,!0,W()),g=function(S){const C={loaded:[],missing:[],pending:[]},D=Object.create(null);S.sort((P,U)=>P.provider!==U.provider?P.provider.localeCompare(U.provider):P.prefix!==U.prefix?P.prefix.localeCompare(U.prefix):P.name.localeCompare(U.name));let R={provider:"",prefix:"",name:""};return S.forEach(P=>{if(R.name===P.name&&R.prefix===P.prefix&&R.provider===P.provider)return;R=P;const U=P.provider,ee=P.prefix,de=P.name;D[U]===void 0&&(D[U]=Object.create(null));const Ae=D[U];Ae[ee]===void 0&&(Ae[ee]=w(U,ee));const ze=Ae[ee];let Ot;Ot=ze.icons[de]!==void 0?C.loaded:ee===""||ze.missing[de]!==void 0?C.missing:C.pending;const ie={provider:U,prefix:ee,name:de};Ot.push(ie)}),C}(f);if(!g.pending.length){let S=!0;return h&&setTimeout(()=>{S&&h(g.loaded,g.missing,g.pending,xe)}),()=>{S=!1}}const p=Object.create(null),E=[];let A,x;g.pending.forEach(S=>{const C=S.provider,D=S.prefix;if(D===x&&C===A)return;A=C,x=D,E.push({provider:C,prefix:D}),Je[C]===void 0&&(Je[C]=Object.create(null));const R=Je[C];R[D]===void 0&&(R[D]=Object.create(null)),p[C]===void 0&&(p[C]=Object.create(null));const P=p[C];P[D]===void 0&&(P[D]=[])});const b=Date.now();return g.pending.forEach(S=>{const C=S.provider,D=S.prefix,R=S.name,P=Je[C][D];P[R]===void 0&&(P[R]=b,p[C][D].push(R))}),E.forEach(S=>{const C=S.provider,D=S.prefix;p[C][D].length&&L(C,D,p[C][D])}),h?function(S,C,D){const R=ft++,P=Fe.bind(null,D,R);if(!C.pending.length)return P;const U={id:R,icons:C,callback:S,abort:P};return D.forEach(ee=>{const de=ee.provider,Ae=ee.prefix;he[de]===void 0&&(he[de]=Object.create(null));const ze=he[de];ze[Ae]===void 0&&(ze[Ae]=[]),ze[Ae].push(U)}),P}(h,g,E):xe},j=u=>new Promise((h,f)=>{const g=typeof u=="string"?v(u):u;O([g||u],p=>{if(p.length&&g){const E=Q(g);if(E)return void h({...E})}f(u)})});function H(u,h){const f=typeof u=="string"?v(u,!0,!0):null;if(!f){const E=function(A){try{const x=typeof A=="string"?JSON.parse(A):A;if(typeof x.body=="string")return{...d,...x}}catch{}}(u);return{value:u,data:E}}const g=Q(f);if(g!==void 0||!f.prefix)return{value:u,name:f,data:g};const p=O([f],()=>h(u,f,Q(f)));return{value:u,name:f,loading:p}}function X(u){return u.hasAttribute("inline")}const re=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Y=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function J(u,h,f){if(h===1)return u;if(f=f===void 0?100:f,typeof u=="number")return Math.ceil(u*h*f)/f;if(typeof u!="string")return u;const g=u.split(re);if(g===null||!g.length)return u;const p=[];let E=g.shift(),A=Y.test(E);for(;;){if(A){const x=parseFloat(E);isNaN(x)?p.push(E):p.push(Math.ceil(x*h*f)/f)}else p.push(E);if(E=g.shift(),E===void 0)return p.join("");A=!A}}function z(u,h){const f={left:u.left,top:u.top,width:u.width,height:u.height};let g,p,E=u.body;[u,h].forEach(x=>{const b=[],S=x.hFlip,C=x.vFlip;let D,R=x.rotate;switch(S?C?R+=2:(b.push("translate("+(f.width+f.left).toString()+" "+(0-f.top).toString()+")"),b.push("scale(-1 1)"),f.top=f.left=0):C&&(b.push("translate("+(0-f.left).toString()+" "+(f.height+f.top).toString()+")"),b.push("scale(1 -1)"),f.top=f.left=0),R<0&&(R-=4*Math.floor(R/4)),R%=4,R){case 1:D=f.height/2+f.top,b.unshift("rotate(90 "+D.toString()+" "+D.toString()+")");break;case 2:b.unshift("rotate(180 "+(f.width/2+f.left).toString()+" "+(f.height/2+f.top).toString()+")");break;case 3:D=f.width/2+f.left,b.unshift("rotate(-90 "+D.toString()+" "+D.toString()+")")}R%2==1&&(f.left===0&&f.top===0||(D=f.left,f.left=f.top,f.top=D),f.width!==f.height&&(D=f.width,f.width=f.height,f.height=D)),b.length&&(E='<g transform="'+b.join(" ")+'">'+E+"</g>")}),h.width===null&&h.height===null?(p="1em",g=J(p,f.width/f.height)):h.width!==null&&h.height!==null?(g=h.width,p=h.height):h.height!==null?(p=h.height,g=J(p,f.width/f.height)):(g=h.width,p=J(g,f.height/f.width)),g==="auto"&&(g=f.width),p==="auto"&&(p=f.height),g=typeof g=="string"?g:g.toString()+"",p=typeof p=="string"?p:p.toString()+"";const A={attributes:{width:g,height:p,viewBox:f.left.toString()+" "+f.top.toString()+" "+f.width.toString()+" "+f.height.toString()},body:E};return h.inline&&(A.inline=!0),A}function q(u,h){return z(k(u),h?function(f,g){const p={};for(const E in f){const A=E;if(p[A]=f[A],g[A]===void 0)continue;const x=g[A];switch(A){case"inline":typeof x=="boolean"&&(p[A]=x);break;case"hFlip":case"vFlip":x===!0&&(p[A]=!p[A]);break;case"width":case"height":(typeof x=="string"&&x!==""||typeof x=="number"&&x||x===null)&&(p[A]=x);break;case"rotate":typeof x=="number"&&(p[A]+=x)}}return p}(e,h):e)}const te={},Se={};let $e=(()=>{let u;try{if(u=fetch,typeof u=="function")return u}catch{}return null})();function be(u){$e=u}function pe(){return $e}const Me={prepare:(u,h,f)=>{const g=[];let p=te[h];p===void 0&&(p=function(b,S){const C=xt(b);if(!C)return 0;let D;if(C.maxURL){let P=0;C.resources.forEach(ee=>{P=Math.max(P,ee.length)});const U=S+".json?icons=";D=C.maxURL-P-C.path.length-U.length}else D=0;const R=b+":"+S;return Se[b]=C.path,te[R]=D,D}(u,h));const E="icons";let A={type:E,provider:u,prefix:h,icons:[]},x=0;return f.forEach((b,S)=>{x+=b.length+1,x>=p&&S>0&&(g.push(A),A={type:E,provider:u,prefix:h,icons:[]},x=b.length),A.icons.push(b)}),g.push(A),g},send:(u,h,f)=>{if(!$e)return void f("abort",424);let g=function(E){if(typeof E=="string"){if(Se[E]===void 0){const A=xt(E);if(!A)return"/";Se[E]=A.path}return Se[E]}return"/"}(h.provider);switch(h.type){case"icons":{const E=h.prefix,A=h.icons.join(",");g+=E+".json?"+new URLSearchParams({icons:A}).toString();break}case"custom":{const E=h.uri;g+=E.slice(0,1)==="/"?E.slice(1):E;break}default:return void f("abort",400)}let p=503;$e(u+g).then(E=>{const A=E.status;if(A===200)return p=501,E.json();setTimeout(()=>{f(function(x){return x===404}(A)?"abort":"next",A)})}).then(E=>{setTimeout(typeof E=="object"&&E!==null?()=>{f("success",E)}:()=>{f("next",p)})}).catch(()=>{f("next",p)})}},Qe="iconify2",st="iconify",De="iconify-count",_t="iconify-version",le=36e5,qe={local:!0,session:!0};let Be=!1;const Vt={local:0,session:0},Gt={local:[],session:[]};let gt=typeof window>"u"?{}:window;function Ct(u){const h=u+"Storage";try{if(gt&&gt[h]&&typeof gt[h].length=="number")return gt[h]}catch{}return qe[u]=!1,null}function Ke(u,h,f){try{return u.setItem(De,f.toString()),Vt[h]=f,!0}catch{}return!1}function se(u){const h=u.getItem(De);return h&&parseInt(h)||0}const ae=()=>{if(Be)return;Be=!0;const u=Math.floor(Date.now()/le)-168;function h(f){const g=Ct(f);if(!g)return;const p=E=>{const A=st+E.toString(),x=g.getItem(A);if(typeof x!="string")return!1;let b=!0;try{const S=JSON.parse(x);if(typeof S!="object"||typeof S.cached!="number"||S.cached<u||typeof S.provider!="string"||typeof S.data!="object"||typeof S.data.prefix!="string")b=!1;else{const C=S.provider,D=S.data.prefix;b=m(w(C,D),S.data).length>0}}catch{b=!1}return b||g.removeItem(A),b};try{const E=g.getItem(_t);if(E!==Qe)return E&&function(x){try{const b=se(x);for(let S=0;S<b;S++)x.removeItem(st+S.toString())}catch{}}(g),void function(x,b){try{x.setItem(_t,Qe)}catch{}Ke(x,b,0)}(g,f);let A=se(g);for(let x=A-1;x>=0;x--)p(x)||(x===A-1?A--:Gt[f].push(x));Ke(g,f,A)}catch{}}for(const f in qe)h(f)},we=(u,h)=>{function f(g){if(!qe[g])return!1;const p=Ct(g);if(!p)return!1;let E=Gt[g].shift();if(E===void 0&&(E=Vt[g],!Ke(p,g,E+1)))return!1;try{const A={cached:Math.floor(Date.now()/le),provider:u,data:h};p.setItem(st+E.toString(),JSON.stringify(A))}catch{return!1}return!0}Be||ae(),Object.keys(h.icons).length&&(h.not_found&&delete(h=Object.assign({},h)).not_found,f("local")||f("session"))};function ge(u,h){switch(u){case"local":case"session":qe[u]=h;break;case"all":for(const f in qe)qe[f]=h}}function fe(u,h){let f=u.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const g in h)f+=" "+g+'="'+h[g]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+f+">"+u+"</svg>"}const ce={"background-color":"currentColor"},Pe={"background-color":"transparent"},Le={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Ze={"-webkit-mask":ce,mask:ce,background:Pe};for(const u in Ze){const h=Ze[u];for(const f in Le)h[u+"-"+f]=Le[f]}function kn(u){return u+(u.match(/^[-0-9.]+$/)?"px":"")}function Cn(u,h){const f=h.icon.data,g=h.customisations,p=z(f,{...g,inline:h.inline});g.preserveAspectRatio&&(p.attributes.preserveAspectRatio=g.preserveAspectRatio);const E=h.renderedMode;let A;if(E==="svg"?A=function(x){const b=document.createElement("span");return b.innerHTML=fe(x.body,x.attributes),b.firstChild}(p):A=function(x,b,S){const C=document.createElement("span");let D=x.body;D.indexOf("<a")!==-1&&(D+="<!-- "+Date.now()+" -->");const R=x.attributes,P='url("data:image/svg+xml,'+(de=fe(D,{...R,width:b.width+"",height:b.height+""}),de.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")+'")'),U=C.style,ee={"--svg":P,width:kn(R.width),height:kn(R.height),...S?ce:Pe};var de;for(const Ae in ee)U.setProperty(Ae,ee[Ae]);return C}(p,f,E==="mask"),u.childNodes.length>1){const x=u.lastChild;A.tagName==="SPAN"&&x.tagName===A.tagName?x.setAttribute("style",A.getAttribute("style")):u.replaceChild(A,x)}else u.appendChild(A)}function On(u,h){let f=u.firstChild;f||(f=document.createElement("style"),u.appendChild(f)),f.textContent=":host{display:inline-block;vertical-align:"+(h?"-0.125em":"0")+"}span,svg{display:block}"}function Mn(u,h,f){return{rendered:!1,inline:h,icon:u,lastRender:f&&(f.rendered?f:f.lastRender)}}(function(u="iconify-icon"){let h,f;try{h=window.customElements,f=window.HTMLElement}catch{return}if(!h||!f)return;const g=h.get(u);if(g)return g;const p=["icon","mode","inline","width","height","rotate","flip"],E=class extends f{constructor(){super();Ut(this,"_shadowRoot");Ut(this,"_state");Ut(this,"_checkQueued",!1);const b=this._shadowRoot=this.attachShadow({mode:"closed"}),S=X(this);On(b,S),this._state=Mn({value:""},S),this._queueCheck()}static get observedAttributes(){return p.slice(0)}attributeChangedCallback(b){if(b==="inline"){const S=X(this),C=this._state;S!==C.inline&&(C.inline=S,On(this._shadowRoot,S))}else this._queueCheck()}get icon(){const b=this.getAttribute("icon");if(b&&b.slice(0,1)==="{")try{return JSON.parse(b)}catch{}return b}set icon(b){typeof b=="object"&&(b=JSON.stringify(b)),this.setAttribute("icon",b)}get inline(){return X(this)}set inline(b){this.setAttribute("inline",b?"true":null)}restartAnimation(){const b=this._state;if(b.rendered){const S=this._shadowRoot;if(b.renderedMode==="svg")try{return void S.lastChild.setCurrentTime(0)}catch{}Cn(S,b)}}get status(){const b=this._state;return b.rendered?"rendered":b.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const b=this._state,S=this.getAttribute("icon");if(S!==b.icon.value)return void this._iconChanged(S);if(!b.rendered)return;const C=this.getAttribute("mode"),D=a(this);(b.attrMode!==C||function(R,P){for(const U in i)if(R[U]!==P[U])return!0;return!1}(b.customisations,D))&&this._renderIcon(b.icon,D,C)}_iconChanged(b){const S=H(b,(C,D,R)=>{const P=this._state;if(P.rendered||this.getAttribute("icon")!==C)return;const U={value:C,name:D,data:R};U.data?this._gotIconData(U):P.icon=U});S.data?this._gotIconData(S):this._state=Mn(S,this._state.inline,this._state)}_gotIconData(b){this._checkQueued=!1,this._renderIcon(b,a(this),this.getAttribute("mode"))}_renderIcon(b,S,C){const D=function(P,U){switch(U){case"svg":case"bg":case"mask":return U}return U!=="style"&&P.indexOf("<a")===-1?"svg":P.indexOf("currentColor")===-1?"bg":"mask"}(b.data.body,C),R=this._state.inline;Cn(this._shadowRoot,this._state={rendered:!0,icon:b,inline:R,customisations:S,attrMode:C,renderedMode:D})}};p.forEach(x=>{Object.hasOwn(E.prototype,x)||Object.defineProperty(E.prototype,x,{get:function(){return this.getAttribute(x)},set:function(b){this.setAttribute(x,b)}})});const A=function(){let x;dt("",Me),W(!0);try{x=window}catch{}if(x){if(je.store=we,ae(),x.IconifyPreload!==void 0){const b=x.IconifyPreload,S="Invalid IconifyPreload syntax.";typeof b=="object"&&b!==null&&(b instanceof Array?b:[b]).forEach(C=>{try{(typeof C!="object"||C===null||C instanceof Array||typeof C.icons!="object"||typeof C.prefix!="string"||!oe(C))&&console.error(S)}catch{console.error(S)}})}if(x.IconifyProviders!==void 0){const b=x.IconifyProviders;if(typeof b=="object"&&b!==null)for(const S in b){const C="IconifyProviders["+S+"] is invalid.";try{const D=b[S];if(typeof D!="object"||!D||D.resources===void 0)continue;$t(S,D)||console.error(C)}catch{console.error(C)}}}}return{enableCache:b=>ge(b,!0),disableCache:b=>ge(b,!1),iconExists:Ne,getIcon:Z,listIcons:N,shareStorage:_,addIcon:ne,addCollection:oe,calculateSize:J,buildIcon:q,loadIcons:O,loadIcon:j,addAPIProvider:$t,_api:{getAPIConfig:xt,setAPIModule:dt,sendAPIQuery:St,setFetch:be,getFetch:pe,listAPIProviders:rn}}}();for(const x in A)E[x]=E.prototype[x]=A[x];h.define(u,E)})()})();var Nt=window.CustomEvent;(!Nt||typeof Nt=="object")&&(Nt=function(n,t){t=t||{};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,!!t.bubbles,!!t.cancelable,t.detail||null),i},Nt.prototype=window.Event.prototype);function Sr(e,n){var t="on"+n.type.toLowerCase();return typeof e[t]=="function"&&e[t](n),e.dispatchEvent(n)}function bo(e){for(;e&&e!==document.body;){var n=window.getComputedStyle(e),t=function(i,a){return!(n[i]===void 0||n[i]===a)};if(n.opacity<1||t("zIndex","auto")||t("transform","none")||t("mixBlendMode","normal")||t("filter","none")||t("perspective","none")||n.isolation==="isolate"||n.position==="fixed"||n.webkitOverflowScrolling==="touch")return!0;e=e.parentElement}return!1}function Ht(e){for(;e;){if(e.localName==="dialog")return e;e.parentElement?e=e.parentElement:e.parentNode?e=e.parentNode.host:e=null}return null}function kr(e){for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;e&&e.blur&&e!==document.body&&e.blur()}function wo(e,n){for(var t=0;t<e.length;++t)if(e[t]===n)return!0;return!1}function fn(e){return!e||!e.hasAttribute("method")?!1:e.getAttribute("method").toLowerCase()==="dialog"}function Cr(e){var n=["button","input","keygen","select","textarea"],t=n.map(function(d){return d+":not([disabled])"});t.push('[tabindex]:not([disabled]):not([tabindex=""])');var i=e.querySelector(t.join(", "));if(!i&&"attachShadow"in Element.prototype)for(var a=e.querySelectorAll("*"),c=0;c<a.length&&!(a[c].tagName&&a[c].shadowRoot&&(i=Cr(a[c].shadowRoot),i));c++);return i}function Vn(e){return e.isConnected||document.body.contains(e)}function Or(e){if(e.submitter)return e.submitter;var n=e.target;if(!(n instanceof HTMLFormElement))return null;var t=K.formSubmitter;if(!t){var i=e.target,a="getRootNode"in i&&i.getRootNode()||document;t=a.activeElement}return!t||t.form!==n?null:t}function Ao(e){if(!e.defaultPrevented){var n=e.target,t=K.imagemapUseValue,i=Or(e);t===null&&i&&(t=i.value);var a=Ht(n);if(!!a){var c=i&&i.getAttribute("formmethod")||n.getAttribute("method");c==="dialog"&&(e.preventDefault(),t!=null?a.close(t):a.close())}}}function Mr(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),e.addEventListener("submit",Ao,!1),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){var n=new MutationObserver(this.maybeHideModal.bind(this));n.observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t=!1,i=function(){t?this.downgradeModal():this.maybeHideModal(),t=!1}.bind(this),a,c=function(d){if(d.target===e){var k="DOMNodeRemoved";t|=d.type.substr(0,k.length)===k,window.clearTimeout(a),a=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(d){e.addEventListener(d,c)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}Mr.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&Vn(this.dialog_)||this.downgradeModal()},downgradeModal:function(){!this.openAsModal_||(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),K.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropMouseEvent_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var n=document.createElement("div");this.dialog_.insertBefore(n,this.dialog_.firstChild),n.tabIndex=-1,n.focus(),this.dialog_.removeChild(n)}var t=document.createEvent("MouseEvents");t.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(t),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),e||(e=Cr(this.dialog_)),kr(document.activeElement),e&&e.focus()},updateZIndex:function(e,n){if(e<n)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=n},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!Vn(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!K.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");bo(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,K.needsCentering(this.dialog_)?(K.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),e!==void 0&&(this.dialog_.returnValue=e);var n=new Nt("close",{bubbles:!1,cancelable:!1});Sr(this.dialog_,n)}};var K={};K.reposition=function(e){var n=document.body.scrollTop||document.documentElement.scrollTop,t=n+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(n,t)+"px"};K.isInlinePositionSetByStylesheet=function(e){for(var n=0;n<document.styleSheets.length;++n){var t=document.styleSheets[n],i=null;try{i=t.cssRules}catch{}if(!!i)for(var a=0;a<i.length;++a){var c=i[a],d=null;try{d=document.querySelectorAll(c.selectorText)}catch{}if(!(!d||!wo(d,e))){var k=c.style.getPropertyValue("top"),v=c.style.getPropertyValue("bottom");if(k&&k!=="auto"||v&&v!=="auto")return!0}}}return!1};K.needsCentering=function(e){var n=window.getComputedStyle(e);return n.position!=="absolute"||e.style.top!=="auto"&&e.style.top!==""||e.style.bottom!=="auto"&&e.style.bottom!==""?!1:!K.isInlinePositionSetByStylesheet(e)};K.forceRegisterDialog=function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),e.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new Mr(e)};K.registerDialog=function(e){e.showModal||K.forceRegisterDialog(e)};K.DialogManager=function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(n){this.forwardTab_=void 0,n.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(n){var t=[];n.forEach(function(i){for(var a=0,c;c=i.removedNodes[a];++a){if(c instanceof Element)c.localName==="dialog"&&t.push(c);else continue;t=t.concat(c.querySelectorAll("dialog"))}}),t.length&&e(t)}))};K.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})};K.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()};K.DialogManager.prototype.updateStacking=function(){for(var e=this.zIndexHigh_,n=0,t;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),n===0&&(this.overlay.style.zIndex=--e);var i=this.pendingDialogStack[0];if(i){var a=i.dialog.parentNode||document.body;a.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)};K.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=Ht(e);){for(var n=0,t;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return n===0;e=e.parentElement}return!1};K.DialogManager.prototype.handleFocus_=function(e){var n=e.composedPath?e.composedPath()[0]:e.target;if(!this.containedByTopDialog_(n)&&document.activeElement!==document.documentElement&&(e.preventDefault(),e.stopPropagation(),kr(n),this.forwardTab_!==void 0)){var t=this.pendingDialogStack[0],i=t.dialog,a=i.compareDocumentPosition(n);return a&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():n!==document.documentElement&&document.documentElement.focus()),!1}};K.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,e.keyCode===27){e.preventDefault(),e.stopPropagation();var n=new Nt("cancel",{bubbles:!1,cancelable:!0}),t=this.pendingDialogStack[0];t&&Sr(t.dialog,n)&&t.dialog.close()}else e.keyCode===9&&(this.forwardTab_=!e.shiftKey)};K.DialogManager.prototype.checkDOM_=function(e){var n=this.pendingDialogStack.slice();n.forEach(function(t){e.indexOf(t.dialog)!==-1?t.downgradeModal():t.maybeHideModal()})};K.DialogManager.prototype.pushDialog=function(e){var n=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=n?!1:(this.pendingDialogStack.unshift(e)===1&&this.blockDocument(),this.updateStacking(),!0)};K.DialogManager.prototype.removeDialog=function(e){var n=this.pendingDialogStack.indexOf(e);n!==-1&&(this.pendingDialogStack.splice(n,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())};K.dm=new K.DialogManager;K.formSubmitter=null;K.imagemapUseValue=null;if(window.HTMLDialogElement===void 0){var Gn=document.createElement("form");if(Gn.setAttribute("method","dialog"),Gn.method!=="dialog"){var Mt=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(Mt){var To=Mt.get;Mt.get=function(){return fn(this)?"dialog":To.call(this)};var Eo=Mt.set;Mt.set=function(e){return typeof e=="string"&&e.toLowerCase()==="dialog"?this.setAttribute("method",e):Eo.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",Mt)}}document.addEventListener("click",function(e){if(K.formSubmitter=null,K.imagemapUseValue=null,!e.defaultPrevented){var n=e.target;if("composedPath"in e){var t=e.composedPath();n=t.shift()||n}if(!(!n||!fn(n.form))){var i=n.type==="submit"&&["button","input"].indexOf(n.localName)>-1;if(!i){if(!(n.localName==="input"&&n.type==="image"))return;K.imagemapUseValue=e.offsetX+","+e.offsetY}var a=Ht(n);!a||(K.formSubmitter=n)}}},!1),document.addEventListener("submit",function(e){var n=e.target,t=Ht(n);if(!t){var i=Or(e),a=i&&i.getAttribute("formmethod")||n.getAttribute("method");a==="dialog"&&e.preventDefault()}});var xo=HTMLFormElement.prototype.submit,So=function(){if(!fn(this))return xo.call(this);var e=Ht(this);e&&e.close()};HTMLFormElement.prototype.submit=So}function Ir(e,n,t,i=()=>{}){K.registerDialog(e),n.forEach(d=>{d.addEventListener("click",()=>{e.showModal()})});const a=()=>{e.classList.remove("hide"),e.close(),e.removeEventListener("webkitAnimationEnd",a,!1),i()},c=()=>{e.classList.add("hide"),e.addEventListener("webkitAnimationEnd",a,!1)};return t.forEach(d=>{d.addEventListener("click",k=>{k.preventDefault(),c()})}),e.addEventListener("click",d=>{var k=e.getBoundingClientRect(),v=k.left+e.clientLeft,y=k.top+e.clientTop;d.clientX!==0&&d.clientY!==0&&(d.clientX<v||d.clientX>=v+e.clientWidth||d.clientY<y||d.clientY>=y+e.clientHeight)&&c()}),c}function Un(e,n,t=()=>{}){const i=document.createElement("dialog");i.className="modal fit";const a=document.createElement("div");a.className="modalHeader",a.innerHTML=e,i.appendChild(a);const c=document.createElement("div");c.className="modalBody text",c.innerHTML=n,i.appendChild(c);const d=document.createElement("div");d.className="modalFooter",i.appendChild(d);const k=document.createElement("button");k.className="button textButton shade",k.innerHTML="<span>Close</span>",d.appendChild(k),Ir(i,[],[k],()=>{i.remove(),t()}),document.body.appendChild(i),i.showModal()}function ko(){const e=document.getElementById("mainMenuButton");if(e){const n=document.getElementById("mainMenuModal"),t=document.getElementById("mainMenuClose");Ir(n,[e],[t]),document.getElementById("mainMenuTitleBtn").addEventListener("click",a=>{window.localStorage.setItem("luna_showTitleScreen","true")})}}function Co(){const e=document.getElementById("backButton");e&&e.addEventListener("click",()=>{window.history.length>1?window.history.back():window.location.href="/"})}const hn={canvas:null,iconWall:null};function Oo(e,n,t,i,a,c,d){e.scale(d,d);const k=e.createPattern(n,"repeat");e.fillStyle=k,e.fillRect(t/d,i/d,a/d,c/d),e.restore()}function Nr(e){e=e/30%580;const{canvas:n,iconWall:t}=hn;if(n&&t){const i=n.getContext("2d");i.save();const a=n.width,c=n.height;i.clearRect(0,0,a,c),i.save();const d=.872665,k=Math.PI/2-d;i.rotate(d);const v=a*Math.cos(k),y=c*Math.cos(d),G=c*Math.cos(k),r=a*Math.cos(d);i.translate(0,-e),Oo(i,t,0,-v,G+r,v+y+580,.5)}return window.requestAnimationFrame(Nr)}function Mo(){const e=document.querySelector(".triangleContainer");if(!e||e.classList.contains("page-challenges-listing"))return;var n=document.getElementById("iconWallCanvas");n||(n=document.createElement("canvas"),n.id="iconWallCanvas",n.classList.add("iconWallCanvas"),e.insertBefore(n,e.firstChild));const t=new Image;t.src=getComputedStyle(document.documentElement).getPropertyValue("--icon-wall").match(new RegExp('(?<=")(.+)(?=")',"g"))[0],hn.canvas=n,hn.iconWall=t,n.width=window.innerWidth,n.height=window.innerHeight,window.addEventListener("resize",()=>{n.width=window.innerWidth,n.height=window.innerHeight}),window.requestAnimationFrame(Nr)}function Io(e,n){Object.keys(e).forEach(t=>{const i=e[t],a=n[t];i.addEventListener("click",()=>{Object.values(e).forEach(c=>{c.classList.remove("active")}),Object.values(n).forEach(c=>{c.classList.add("hidden")}),i.classList.add("active"),a.classList.remove("hidden")})})}function No(){const e=[...document.querySelectorAll("#tabbedView .tab")].reduce((t,i)=>({...t,[i.dataset.target]:i}),{}),n=[...document.querySelectorAll(".tabPane")].reduce((t,i)=>({...t,[i.id]:i}),{});Object.keys(e).length>0&&Io(e,n)}Te.extend(Hr);Te.extend(xr);function Dr(){const e=document.getElementById("statusCountdown");if(e){var n=Te(),t=window.init.start&&Te.unix(window.init.start),i=window.init.end&&Te.unix(window.init.end),a=null;if(t&&n.isBefore(t)?a=t:i&&n.isBefore(i)&&(a=i),a===null)e.style.display="none";else{var c=null,d=()=>{var k=a.diff(Te());if(k>0){var v=Te.duration(k),y=Math.floor(v.asDays()),G=Math.floor(v.asHours()),r=y>=3?`${y}d ${v.format("HH:mm:ss")}`:v.asHours()>=1?`${G}:${v.format("mm:ss")}`:v.format("mm:ss");e.innerText=r,e.dateTime=v.toISOString()}else clearInterval(c),Dr()};d(),setInterval(d,1e3)}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Re=function(){return Re=Object.assign||function(n){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(n[c]=t[c])}return n},Re.apply(this,arguments)},Do=function(){function e(n){this.options=n,this.listeners={}}return e.prototype.on=function(n,t){var i=this.listeners[n]||[];this.listeners[n]=i.concat([t])},e.prototype.triggerEvent=function(n,t){var i=this,a=this.listeners[n]||[];a.forEach(function(c){return c({target:i,event:t})})},e}(),Lt;(function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"})(Lt||(Lt={}));var Po=function(){function e(){this.notifications=[]}return e.prototype.push=function(n){this.notifications.push(n),this.updateFn(n,Lt.Add,this.notifications)},e.prototype.splice=function(n,t){var i=this.notifications.splice(n,t)[0];return this.updateFn(i,Lt.Remove,this.notifications),i},e.prototype.indexOf=function(n){return this.notifications.indexOf(n)},e.prototype.onUpdate=function(n){this.updateFn=n},e}(),ct;(function(e){e.Dismiss="dismiss",e.Click="click"})(ct||(ct={}));var Xn={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0,position:{x:"right",y:"bottom"},dismissible:!1},Lo=function(){function e(){this.notifications=[],this.events={},this.X_POSITION_FLEX_MAP={left:"flex-start",center:"center",right:"flex-end"},this.Y_POSITION_FLEX_MAP={top:"flex-start",center:"center",bottom:"flex-end"};var n=document.createDocumentFragment(),t=this._createHTMLElement({tagName:"div",className:"notyf"});n.appendChild(t),document.body.appendChild(n),this.container=t,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return e.prototype.on=function(n,t){var i;this.events=Re(Re({},this.events),(i={},i[n]=t,i))},e.prototype.update=function(n,t){t===Lt.Add?this.addNotification(n):t===Lt.Remove&&this.removeNotification(n)},e.prototype.removeNotification=function(n){var t=this,i=this._popRenderedNotification(n),a;if(!!i){a=i.node,a.classList.add("notyf__toast--disappear");var c;a.addEventListener(this.animationEndEventName,c=function(d){d.target===a&&(a.removeEventListener(t.animationEndEventName,c),t.container.removeChild(a))})}},e.prototype.addNotification=function(n){var t=this._renderNotification(n);this.notifications.push({notification:n,node:t}),this._announce(n.options.message||"Notification")},e.prototype._renderNotification=function(n){var t,i=this._buildNotificationCard(n),a=n.options.className;return a&&(t=i.classList).add.apply(t,a.split(" ")),this.container.appendChild(i),i},e.prototype._popRenderedNotification=function(n){for(var t=-1,i=0;i<this.notifications.length&&t<0;i++)this.notifications[i].notification===n&&(t=i);if(t!==-1)return this.notifications.splice(t,1)[0]},e.prototype.getXPosition=function(n){var t;return((t=n==null?void 0:n.position)===null||t===void 0?void 0:t.x)||"right"},e.prototype.getYPosition=function(n){var t;return((t=n==null?void 0:n.position)===null||t===void 0?void 0:t.y)||"bottom"},e.prototype.adjustContainerAlignment=function(n){var t=this.X_POSITION_FLEX_MAP[this.getXPosition(n)],i=this.Y_POSITION_FLEX_MAP[this.getYPosition(n)],a=this.container.style;a.setProperty("justify-content",i),a.setProperty("align-items",t)},e.prototype._buildNotificationCard=function(n){var t=this,i=n.options,a=i.icon;this.adjustContainerAlignment(i);var c=this._createHTMLElement({tagName:"div",className:"notyf__toast"}),d=this._createHTMLElement({tagName:"div",className:"notyf__ripple"}),k=this._createHTMLElement({tagName:"div",className:"notyf__wrapper"}),v=this._createHTMLElement({tagName:"div",className:"notyf__message"});v.innerHTML=i.message||"";var y=i.background||i.backgroundColor;if(a){var G=this._createHTMLElement({tagName:"div",className:"notyf__icon"});if((typeof a=="string"||a instanceof String)&&(G.innerHTML=new String(a).valueOf()),typeof a=="object"){var r=a.tagName,o=r===void 0?"i":r,s=a.className,l=a.text,_=a.color,w=_===void 0?y:_,m=this._createHTMLElement({tagName:o,className:s,text:l});w&&(m.style.color=w),G.appendChild(m)}k.appendChild(G)}if(k.appendChild(v),c.appendChild(k),y&&(i.ripple?(d.style.background=y,c.appendChild(d)):c.style.background=y),i.dismissible){var N=this._createHTMLElement({tagName:"div",className:"notyf__dismiss"}),F=this._createHTMLElement({tagName:"button",className:"notyf__dismiss-btn"});N.appendChild(F),k.appendChild(N),c.classList.add("notyf__toast--dismissible"),F.addEventListener("click",function(Q){var ne,oe;(oe=(ne=t.events)[ct.Dismiss])===null||oe===void 0||oe.call(ne,{target:n,event:Q}),Q.stopPropagation()})}c.addEventListener("click",function(Q){var ne,oe;return(oe=(ne=t.events)[ct.Click])===null||oe===void 0?void 0:oe.call(ne,{target:n,event:Q})});var W=this.getYPosition(i)==="top"?"upper":"lower";return c.classList.add("notyf__toast--"+W),c},e.prototype._createHTMLElement=function(n){var t=n.tagName,i=n.className,a=n.text,c=document.createElement(t);return i&&(c.className=i),c.textContent=a||null,c},e.prototype._createA11yContainer=function(){var n=this._createHTMLElement({tagName:"div",className:"notyf-announcer"});n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),n.style.border="0",n.style.clip="rect(0 0 0 0)",n.style.height="1px",n.style.margin="-1px",n.style.overflow="hidden",n.style.padding="0",n.style.position="absolute",n.style.width="1px",n.style.outline="0",document.body.appendChild(n),this.a11yContainer=n},e.prototype._announce=function(n){var t=this;this.a11yContainer.textContent="",setTimeout(function(){t.a11yContainer.textContent=n},100)},e.prototype._getAnimationEndEventName=function(){var n=document.createElement("_fake"),t={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"},i;for(i in t)if(n.style[i]!==void 0)return t[i];return"animationend"},e}(),Ro=function(){function e(n){var t=this;this.dismiss=this._removeNotification,this.notifications=new Po,this.view=new Lo;var i=this.registerTypes(n);this.options=Re(Re({},Xn),n),this.options.types=i,this.notifications.onUpdate(function(a,c){return t.view.update(a,c)}),this.view.on(ct.Dismiss,function(a){var c=a.target,d=a.event;t._removeNotification(c),c.triggerEvent(ct.Dismiss,d)}),this.view.on(ct.Click,function(a){var c=a.target,d=a.event;return c.triggerEvent(ct.Click,d)})}return e.prototype.error=function(n){var t=this.normalizeOptions("error",n);return this.open(t)},e.prototype.success=function(n){var t=this.normalizeOptions("success",n);return this.open(t)},e.prototype.open=function(n){var t=this.options.types.find(function(c){var d=c.type;return d===n.type})||{},i=Re(Re({},t),n);this.assignProps(["ripple","position","dismissible"],i);var a=new Do(i);return this._pushNotification(a),a},e.prototype.dismissAll=function(){for(;this.notifications.splice(0,1););},e.prototype.assignProps=function(n,t){var i=this;n.forEach(function(a){t[a]=t[a]==null?i.options[a]:t[a]})},e.prototype._pushNotification=function(n){var t=this;this.notifications.push(n);var i=n.options.duration!==void 0?n.options.duration:this.options.duration;i&&setTimeout(function(){return t._removeNotification(n)},i)},e.prototype._removeNotification=function(n){var t=this.notifications.indexOf(n);t!==-1&&this.notifications.splice(t,1)},e.prototype.normalizeOptions=function(n,t){var i={type:n};return typeof t=="string"?i.message=t:typeof t=="object"&&(i=Re(Re({},i),t)),i},e.prototype.registerTypes=function(n){var t=(n&&n.types||[]).slice(),i=Xn.types.map(function(a){var c=-1;t.forEach(function(k,v){k.type===a.type&&(c=v)});var d=c!==-1?t.splice(c,1)[0]:{};return Re(Re({},a),d)});return i.concat(t)},e}();function We(){this.id=Math.random(),this.isMaster=!1,this.others={},window.addEventListener("storage",this,!1),window.addEventListener("unload",this,!1),this.broadcast("hello");var e=this,n=function i(){e.check(),e._checkTimeout=setTimeout(i,9e3)},t=function i(){e.sendPing(),e._pingTimeout=setTimeout(i,17e3)};this._checkTimeout=setTimeout(n,500),this._pingTimeout=setTimeout(t,17e3)}We.prototype.destroy=function(){clearTimeout(this._pingTimeout),clearTimeout(this._checkTimeout),window.removeEventListener("storage",this,!1),window.removeEventListener("unload",this,!1),this.broadcast("bye")};We.prototype.handleEvent=function(e){if(e.type==="unload")this.destroy();else if(e.key==="broadcast")try{var n=JSON.parse(e.newValue);n.id!==this.id&&this[n.type](n)}catch(t){console.log(t)}};We.prototype.sendPing=function(){this.broadcast("ping")};We.prototype.hello=function(e){this.ping(e),e.id<this.id?this.check():this.sendPing()};We.prototype.ping=function(e){this.others[e.id]=+new Date};We.prototype.bye=function(e){delete this.others[e.id],this.check()};We.prototype.check=function(e){var n=+new Date,t=!0,i;for(i in this.others)this.others[i]+23e3<n?delete this.others[i]:i<this.id&&(t=!1);this.isMaster!==t&&(this.isMaster=t,this.masterDidChange())};We.prototype.masterDidChange=function(){};We.prototype.broadcast=function(e,n){var t={id:this.id,type:e};for(var i in n)t[i]=n[i];try{localStorage.setItem("broadcast",JSON.stringify(t))}catch(a){console.log(a)}};const Fo=window.EventSource;function Wn(e,n,t){try{if(Notification.permission==="granted")return new Notification(e,{body:n,icon:window.init.smallIcon,tag:[t],requireInteraction:!0}),!0}catch(i){console.error(i)}return!1}const Ho=e=>{const n=new Fo(e+"/events"),t=new We,i=new _n.Howl({src:[e+"/themes/luna-vite/static/sounds/notification.webm",e+"/themes/luna-vite/static/sounds/notification.mp3"]}),a=new Ro({duration:0,dismissible:!0,types:[{type:"info",color:!1,backgroundColor:"#5CC9BB",dismissible:!0}]});Br();function c(){n.addEventListener("notification",function(v){let y=JSON.parse(v.data);t.broadcast("notification",y),k(y),y.sound&&i.play()},!1)}function d(){n&&n.close()}function k(v){if(v.type==="toast"){Xt(),Wn(v.title,v.html,v.id);let y=!1;const G=a.open({type:"info",message:`${v.title}`});G.on("click",()=>{y=!0,Un(v.title,v.html,()=>{an()})}),G.on("dismiss",()=>{y||an()})}else v.type==="alert"?(Xt(),Wn(v.title,v.html,v.id),Un(v.title,v.html,()=>{an()})):v.type==="background"?Xt():Xt()}t.alert=function(v){k(v)},t.eventAlert=t.alert,t.toast=function(v){k(v)},t.eventToast=t.toast,t.background=function(v){k(v)},t.eventBackground=t.background,t.masterDidChange=function(){this.isMaster?c():d()}};Te.extend(Zt);const Bo=()=>{document.querySelectorAll("[data-time]").forEach(e=>{const n=e.getAttribute("data-time"),t=e.getAttribute("data-time-format")||"D MMMM YYYY, H:mm:ss";e.innerText=Te(n).format(t)})};Te.extend(Zt);B.init(window.init);ko(),Co(),Mo(),No(),Dr(),Bo(),Ho(window.init.urlRoot);export{B as C,Ro as N,ni as c,K as d,Un as g,Ir as i};
