import{d as S,a as O}from"./duration.0f45fb32.js";import{t as F}from"./tippy.esm.6ff6f36c.js";(function(d){function s(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return d[e].call(t.exports,t,t.exports,s),t.loaded=!0,t.exports}var i={};return s.m=d,s.c=i,s.p="",s(0)})([function(d,s,i){i(1),i(2),d.exports=i(4)},function(d,s){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(i){window.setTimeout(i,1e3/60)}}()},function(d,s,i){Object.defineProperty(s,"__esModule",{value:!0});var e=i(3),t=i(4),n=i(6),f=i(6),p=i(8),a=typeof Stats!="undefined";if(a){var u=new Stats;u.showPanel(0),window.particleStats=u}s.cursor={position:new e.default(0,0)},window.addEventListener("mousemove",function(r){s.cursor.position.set(r.clientX,r.clientY)},!1),s.particleSystems=[];var m=Date.now();(function(){for(var r=0,h=["webkit","moz"],c=0;c<h.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[h[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h[c]+"CancelAnimationFrame"]||window[h[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(o,l){var y=new Date().getTime(),w=Math.max(0,16-(y-r)),v=window.setTimeout(function(){o(y+w)},w);return r=y+w,v}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(o){clearTimeout(o)})})(),window.main=function(){a&&u.begin();var r=Date.now(),h=(r-m)/1e3;m=r,h>1&&(h=1);for(var c=0,o=s.particleSystems;c<o.length;c++){var l=o[c];l.preUpdate()}for(var y=0,w=s.particleSystems;y<w.length;y++){var l=w[y];l.update(h)}if(a){for(var v=0,R=s.particleSystems;v<R.length;v++){var l=R[v];l.debug()}u.end()}window.requestAnimationFrame(window.main)},window.main(),window.ParticleSystem=t.default,window.Tint=p.default,window.CursorMode=n.CursorMode,window.RotationMode=f.RotationMode},function(d,s){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function e(t,n){this.x=t,this.y=n,this.set(t,n)}return e.prototype.set=function(t,n){return this.x=t,this.y=n,this},e.prototype.add=function(t,n){return this.x+=t,this.y+=n,this},e.prototype.dst2=function(t,n){var f=t-this.x,p=n-this.y;return f*f+p*p},e.prototype.dst=function(t,n){return Math.sqrt(this.dst2(t,n))},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.nor=function(){var t=this.len();return t!==0&&(this.x/=t,this.y/=t),this},e.prototype.scl=function(t,n){return this.x*=t,this.y*=n,this},e.prototype.cpy=function(){return new e(this.x,this.y)},e.prototype.rotate=function(t){return this.rotateRad(t*Math.PI/180)},e.prototype.angle=function(){var t=180*Math.atan2(this.y,this.x)/Math.PI;return t<0&&(t+=360),t},e.prototype.setRotation=function(t){return this.setRotationRad(t*Math.PI/180)},e.prototype.setRotationRad=function(t){return this.set(this.len(),0),this.rotateRad(t),this},e.prototype.rotateRad=function(t){var n=Math.cos(t),f=Math.sin(t),p=this.x*n-this.y*f,a=this.x*f+this.y*n;return this.x=p,this.y=a,this},e.prototype.setAngle=function(t){return this.setAngleRad(t*Math.PI/180)},e.prototype.setAngleRad=function(t){return this.set(this.len(),0),this.rotateRad(t),this},e.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},e}();s.default=i},function(d,s,i){Object.defineProperty(s,"__esModule",{value:!0});var e=i(2),t=i(2),n=i(5),f=i(3),p=i(7),a=i(8),u=i(6),m=function(){function r(h,c,o){o===void 0&&(o={});var l=this;this.cursorRelativeVector=new f.default(0,0),this.options={},this.particles=[],this.image=new Image,typeof h=="string"?this.canvas=document.getElementById(h):this.canvas=h,this.context=this.canvas.getContext("2d"),this.image.src=c,this.options=p.mergeObjects(r.defaults,o),this.lastCursorPos=new f.default(0,0),this.timer=0,this.timerThrottle=this.options.particleCreationThrottle/1e3,window.addEventListener("resize",function(){l.onResize()}),window.addEventListener("scroll",function(){l.onScroll()}),this.onResize(),this.image.onload=function(){l.canvas.addEventListener("click",function(){if(l.particles!==void 0)for(var y=0;y<l.options.addOnClickNb;y++)l.particles.push(new n.default(l,l.cursorRelativeVector.x,l.cursorRelativeVector.y,l.image))},!1),l.options.cursorMode!==u.CursorMode.Follow&&l.populate(),e.particleSystems.push(l)}}return r.prototype.populate=function(){for(var h=0;h<this.canvas.width*this.canvas.height/2e4*this.options.density&&h<this.options.maxParticles;h++)this.particles.push(new n.default(this,Math.random()*this.canvas.width,Math.random()*this.canvas.height,this.image))},r.prototype.onScroll=function(){this.canvasBoundingClient=this.canvas.getBoundingClientRect()},r.prototype.onResize=function(){this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.canvasBoundingClient=this.canvas.getBoundingClientRect()},r.prototype.onFollow=function(h){if(!this.lastCursorPos.equals(h))for(var c=0;c<this.options.density;c++){var o=Math.random(),l=Math.random();if(o<l){var y=o;o=l,l=y}var w=this.cursorRelativeVector.x+l*this.options.cursorRadius*Math.cos(2*Math.PI*o/l),v=this.cursorRelativeVector.y+l*this.options.cursorRadius*Math.sin(2*Math.PI*o/l);this.particles.push(new n.default(this,w,v,this.image))}},r.prototype.preUpdate=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},r.prototype.update=function(h){this.timer+=h,this.cursorRelativeVector.set(t.cursor.position.x-this.canvasBoundingClient.left,t.cursor.position.y-this.canvasBoundingClient.top),this.options.cursorMode===u.CursorMode.Follow&&this.timer>this.timerThrottle&&(this.onFollow(t.cursor.position),this.timer=0);for(var c=this.particles.length-1;c>=0;c--){var o=this.particles[c];o.update(h),o.draw(this.context),this.particles.length>this.options.maxParticles?(o.position.x<-o.width||o.position.x>this.canvas.width+o.width||o.position.y<-o.height||o.position.y>this.canvas.height+o.height)&&o.die():(o.position.x<-o.width?o.position.x=this.canvas.width:o.position.x>this.canvas.width+o.width&&(o.position.x=0),o.position.y<-o.height?o.position.y=this.canvas.height:o.position.y>this.canvas.height+o.height&&(o.position.y=0)),o.isAlive||this.particles.splice(c,1)}this.lastCursorPos.set(t.cursor.position.x,t.cursor.position.y)},r.prototype.debug=function(){this.context.beginPath(),this.context.fillStyle="white",this.context.arc(this.cursorRelativeVector.x,this.cursorRelativeVector.y,this.options.cursorRadius,0,2*Math.PI),this.context.stroke()},r.prototype.destroy=function(){delete e.particleSystems[e.particleSystems.indexOf(this)]},r.destroyAll=function(){e.particleSystems.splice(0)},r.defaults={maxParticles:200,velocityAngle:[0,360],speed:[20,100],cursorMode:u.CursorMode.Bounce,rotationMode:u.RotationMode.Random,rotationStartAngle:[0,360],minimumRotationSpeed:0,rotationSpeed:[50,50],rotationSpeedSizeScale:1,tints:[new a.default("#FFFFFF",0)],width:[8,32],height:[8,32],addOnClickNb:5,density:1,cursorRadius:100,particleLifeTime:0,particlePreDieTime:1,particleCreationThrottle:16},r}();s.default=m},function(d,s,i){Object.defineProperty(s,"__esModule",{value:!0});var e=i(3),t=i(6),n=i(7),f=function(){function p(a,u,m,r){this.alive=!0,this.particleSystem=a,this.psOptions=a.options;var h=Math.random();if(this.defaultWidth=this.psOptions.width[0]+h*this.psOptions.width[1],this.defaultHeight=this.psOptions.height[0]+h*this.psOptions.height[1],this.defaultSpeed=this.psOptions.speed[0]+Math.random()*(this.psOptions.speed[1]-this.psOptions.speed[0]),this.width=this.defaultWidth,this.height=this.defaultHeight,this.position=new e.default(u,m),this.velocity=new e.default(0,0),this.setRandomVelocity(),this.defaultVelocity=this.velocity.cpy(),this.defaultRotation=n.getRandomAngle(this.psOptions.rotationStartAngle[0],this.psOptions.rotationStartAngle[1]),this.rotation=this.defaultRotation,this.rotationSpeed=this.psOptions.rotationSpeed[0]+Math.random()*(this.psOptions.rotationSpeed[1]-this.psOptions.rotationSpeed[0]),this.minimumRotationSpeed=this.psOptions.minimumRotationSpeed,this.lifeTime=this.psOptions.particleLifeTime,this.currentTime=0,this.lifeOpacity=1,this.lifeScale=1,this.rotationSpeed=this.rotationSpeed/(h*this.psOptions.rotationSpeedSizeScale+1),this.rotationSpeed<0&&this.rotationSpeed>-this.minimumRotationSpeed?this.rotationSpeed=-this.minimumRotationSpeed:this.rotationSpeed>0&&this.rotationSpeed<this.minimumRotationSpeed&&(this.rotationSpeed=this.minimumRotationSpeed),this.image=r,this.tint=this.psOptions.tints[Math.floor(Math.random()*this.psOptions.tints.length)].clone(),this.tint.isActive()||this.psOptions.cursorMode==t.CursorMode.Light){this.buffer=document.createElement("canvas"),this.buffer.width=this.image.width,this.buffer.height=this.image.height;var c=this.buffer.getContext("2d");c.fillStyle=this.tint.color,c.fillRect(0,0,this.buffer.width,this.buffer.height),c.globalCompositeOperation="destination-atop",c.drawImage(this.image,0,0)}}return p.prototype.setRandomVelocity=function(){this.velocity.set(this.defaultSpeed,0),this.velocity.setAngle(n.getRandomAngle(this.psOptions.velocityAngle[0],this.psOptions.velocityAngle[1]))},p.prototype.fadeOutForDie=function(a){this.currentTime+=a,this.currentTime>this.lifeTime-this.psOptions.particlePreDieTime&&(this.lifeOpacity-=a),this.lifeOpacity<0&&(this.lifeOpacity=0),this.currentTime>this.lifeTime-this.psOptions.particlePreDieTime&&(this.lifeScale-=a),this.lifeScale<0&&(this.lifeScale=0),this.currentTime>=this.lifeTime&&this.die()},p.prototype.update=function(a){if(this.particleSystem.options.particleLifeTime>0&&this.fadeOutForDie(a),this.position.add(this.velocity.x*a,this.velocity.y*a),this.psOptions.rotationMode===t.RotationMode.FollowVelocity?this.rotation=this.velocity.angle()+this.defaultRotation:this.psOptions.rotationMode===t.RotationMode.Random&&(this.rotation+=this.rotationSpeed*a),this.psOptions.rotationMode===t.RotationMode.FollowVelocity){var u=3*a,m=this.defaultVelocity.cpy().scl(u,u);this.velocity.add(m.x,m.y).scl(1-u,1-u)}var r=this.position.dst(this.particleSystem.cursorRelativeVector.x,this.particleSystem.cursorRelativeVector.y);if(r<this.psOptions.cursorRadius)if(this.psOptions.cursorMode==t.CursorMode.Bounce){var h=this.position.cpy().add(-this.particleSystem.cursorRelativeVector.x,-this.particleSystem.cursorRelativeVector.y);this.velocity.setRotation(h.angle());var u=10*a;r>.9*this.psOptions.cursorRadius&&(u*=.2),h.scl(u,u).add(this.position.x,this.position.y),this.position.set(h.x,h.y)}else if(this.psOptions.cursorMode==t.CursorMode.Zoom){if(r>0){var c=2,o=this.defaultWidth*c;this.width=o*this.psOptions.cursorRadius/r/c,this.width>=o&&(this.width=o);var l=this.defaultWidth*c;this.height=l*this.psOptions.cursorRadius/r/c,this.height>=l&&(this.height=l)}}else this.psOptions.cursorMode==t.CursorMode.Light&&(r===0?this.tint.opacity=1:this.tint.opacity=this.psOptions.cursorRadius/r-1,this.tint.opacity>1&&(this.tint.opacity=1));else this.psOptions.cursorMode==t.CursorMode.Zoom&&(this.width=this.defaultWidth,this.height=this.defaultHeight),this.psOptions.cursorMode==t.CursorMode.Light&&(this.tint.opacity=0)},p.prototype.draw=function(a){a.save(),a.translate(this.position.x,this.position.y),a.rotate(this.rotation*Math.PI/180),a.globalAlpha=this.lifeOpacity,a.drawImage(this.image,-(this.width/2*this.lifeScale),-(this.height/2*this.lifeScale),this.width*this.lifeScale,this.height*this.lifeScale),this.tint.isActive()&&(a.globalAlpha=this.tint.opacity,a.drawImage(this.buffer,-this.width/2,-this.height/2,this.width,this.height)),a.restore()},p.prototype.die=function(){this.alive=!1},Object.defineProperty(p.prototype,"isAlive",{get:function(){return this.alive},enumerable:!0,configurable:!0}),p}();s.default=f},function(d,s){Object.defineProperty(s,"__esModule",{value:!0}),function(i){i[i.Bounce=0]="Bounce",i[i.Zoom=1]="Zoom",i[i.Light=2]="Light",i[i.Follow=3]="Follow"}(s.CursorMode||(s.CursorMode={})),function(i){i[i.None=0]="None",i[i.Random=1]="Random",i[i.FollowVelocity=2]="FollowVelocity"}(s.RotationMode||(s.RotationMode={}))},function(d,s){function i(t,n){var f={};for(var p in t)f[p]=t[p];for(var p in n)f[p]=n[p];return f}function e(t,n){var f;if(t===0)f=Math.random()*n;else{var p=(n-t+360+180)%360-180;f=(t+p*Math.random()+360)%360}return f}Object.defineProperty(s,"__esModule",{value:!0}),s.mergeObjects=i,s.getRandomAngle=e},function(d,s){Object.defineProperty(s,"__esModule",{value:!0});var i=function(){function e(t,n){this.color=t,this.opacity=n}return e.prototype.isActive=function(){return this.opacity>0},e.prototype.clone=function(){return new e(this.color,this.opacity)},e}();s.default=i}]);S.extend(O);const M=document.getElementById("particlesCanvas"),g=document.getElementById("titleScreen");function T(){const d=document.getElementById("homeCountdown");var s=S(),i=window.init.start&&S.unix(window.init.start),e=window.init.end&&S.unix(window.init.end),t=null,n="";if(i&&s.isBefore(i)?(t=i,n=" to start."):e&&s.isBefore(e)&&(t=e,n=" to end."),t===null)i===null?d.style.display="none":e===null?d.innerText="The CTF has started.":d.innerText="The CTF has ended.";else{var f=null,p=()=>{var a=t.diff(S());if(a>0){var u=S.duration(a),m=Math.floor(u.asDays()),r=Math.floor(u.asHours()),h=m>=3?`${m}d ${u.format("HH[h] mm[m] ss[s]")}`:u.asHours()>=1?`${r}h ${u.format("mm[m] ss[s]")}`:u.format("mm[m] ss's'");d.innerText=h+n}else clearInterval(f),CountdownInit()};p(),f=setInterval(p,1e3)}}function C(){document.body.classList.add("titleScreenVisible"),g.classList.remove("hidden"),window.localStorage.setItem("luna_showTitleScreen","true");const d={width:[40,100],height:[20,50],density:.1,speed:[60,80],cursorMode:null,rotationMode:RotationMode.Random,velocityAngle:[180+40,180+50],rotationSpeed:[30,100],tints:[new Tint("#F5C0F3",1),new Tint("#C3F5FD",1),new Tint("#FEF79F",1)],addOnClickNb:0};new ParticleSystem(M,PartileAssets.pattern1,d),new ParticleSystem(M,PartileAssets.pattern2,d),new ParticleSystem(M,PartileAssets.pattern3,{...d,width:[150,200],height:[75,100],tints:[new Tint("#F5C0F3",.5),new Tint("#C3F5FD",.5),new Tint("#FEF79F",.5),new Tint("#F5C0F3",.25),new Tint("#C3F5FD",.25),new Tint("#FEF79F",.25)]})}function x(d=!1){if(window.localStorage.setItem("luna_showTitleScreen","false"),d){if(g.classList.contains("splash-exit"))return;g.classList.add("splash-exit"),setTimeout(()=>{document.body.classList.remove("titleScreenVisible"),g.classList.add("hidden"),g.classList.remove("splash-exit"),ParticleSystem.destroyAll()},2e3)}else document.body.classList.remove("titleScreenVisible"),g.classList.add("hidden"),ParticleSystem.destroyAll()}function A(){var d=window.localStorage.getItem("luna_showTitleScreen");d===null&&(d="true",window.localStorage.setItem("luna_showTitleScreen","true")),d==="true"?C():x(!1),g.addEventListener("click",()=>x(!0))}A(),T(),F(document.querySelectorAll("[data-tippy-lyrics]"),{content:LyricsContent,theme:"lunaDefault",allowHTML:!0,placement:"bottom-start",arrow:!1});
