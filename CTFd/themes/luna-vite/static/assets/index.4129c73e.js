import{c as P,d as O,b as V,a as H}from"./duration.c050dc80.js";import{t as B}from"./tippy.esm.67f4ecc9.js";var I={exports:{}};(function(f,h){(function(o,r){f.exports=r()})(P,function(){var o="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(l,c,d){var n=c.prototype;d.utc=function(t){var p={date:t,utc:!0,args:arguments};return new c(p)},n.utc=function(t){var p=d(this.toDate(),{locale:this.$L,utc:!0});return t?p.add(this.utcOffset(),o):p},n.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var m=n.parse;n.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),m.call(this,t)};var g=n.init;n.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else g.call(this)};var u=n.utcOffset;n.utcOffset=function(t,p){var y=this.$utils().u;if(y(t))return this.$u?0:y(this.$offset)?u.call(this):this.$offset;if(typeof t=="string"&&(t=function(S){S===void 0&&(S="");var R=S.match(r);if(!R)return null;var x=(""+R[0]).match(i)||["-",0,0],F=x[0],T=60*+x[1]+ +x[2];return T===0?0:F==="+"?T:-T}(t),t===null))return this;var v=Math.abs(t)<=16?60*t:t,w=this;if(p)return w.$offset=v,w.$u=t===0,w;if(t!==0){var M=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(v+M,o)).$offset=v,w.$x.$localOffset=M}else w=this.utc();return w};var s=n.format;n.format=function(t){var p=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return s.call(this,p)},n.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var a=n.toDate;n.toDate=function(t){return t==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():a.call(this)};var e=n.diff;n.diff=function(t,p,y){if(t&&this.$u===t.$u)return e.call(this,t,p,y);var v=this.local(),w=d(t).local();return e.call(v,w,p,y)}}})})(I);const Y=I.exports;var L={exports:{}};(function(f,h){(function(o,r){f.exports=r()})(P,function(){var o={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,l,c){var d,n=function(s,a,e){e===void 0&&(e={});var t=new Date(s),p=function(y,v){v===void 0&&(v={});var w=v.timeZoneName||"short",M=y+"|"+w,S=r[M];return S||(S=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:w}),r[M]=S),S}(a,e);return p.formatToParts(t)},m=function(s,a){for(var e=n(s,a),t=[],p=0;p<e.length;p+=1){var y=e[p],v=y.type,w=y.value,M=o[v];M>=0&&(t[M]=parseInt(w,10))}var S=t[3],R=S===24?0:S,x=t[0]+"-"+t[1]+"-"+t[2]+" "+R+":"+t[4]+":"+t[5]+":000",F=+s;return(c.utc(x).valueOf()-(F-=F%1e3))/6e4},g=l.prototype;g.tz=function(s,a){s===void 0&&(s=d);var e=this.utcOffset(),t=this.toDate(),p=t.toLocaleString("en-US",{timeZone:s}),y=Math.round((t-new Date(p))/1e3/60),v=c(p).$set("millisecond",this.$ms).utcOffset(15*-Math.round(t.getTimezoneOffset()/15)-y,!0);if(a){var w=v.utcOffset();v=v.add(e-w,"minute")}return v.$x.$timezone=s,v},g.offsetName=function(s){var a=this.$x.$timezone||c.tz.guess(),e=n(this.valueOf(),a,{timeZoneName:s}).find(function(t){return t.type.toLowerCase()==="timezonename"});return e&&e.value};var u=g.startOf;g.startOf=function(s,a){if(!this.$x||!this.$x.$timezone)return u.call(this,s,a);var e=c(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return u.call(e,s,a).tz(this.$x.$timezone,!0)},c.tz=function(s,a,e){var t=e&&a,p=e||a||d,y=m(+c(),p);if(typeof s!="string")return c(s).tz(p);var v=function(R,x,F){var T=R-60*x*1e3,C=m(T,F);if(x===C)return[T,x];var A=m(T-=60*(C-x)*1e3,F);return C===A?[T,C]:[R-60*Math.min(C,A)*1e3,Math.max(C,A)]}(c.utc(s,t).valueOf(),y,p),w=v[0],M=v[1],S=c(w).utcOffset(M);return S.$x.$timezone=p,S},c.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},c.tz.setDefault=function(s){d=s}}})})(L);const _=L.exports;(function(f){function h(r){if(o[r])return o[r].exports;var i=o[r]={exports:{},id:r,loaded:!1};return f[r].call(i.exports,i,i.exports,h),i.loaded=!0,i.exports}var o={};return h.m=f,h.c=o,h.p="",h(0)})([function(f,h,o){o(1),o(2),f.exports=o(4)},function(f,h){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(o){window.setTimeout(o,1e3/60)}}()},function(f,h,o){Object.defineProperty(h,"__esModule",{value:!0});var r=o(3),i=o(4),l=o(6),c=o(6),d=o(8),n=typeof Stats<"u";if(n){var m=new Stats;m.showPanel(0),window.particleStats=m}h.cursor={position:new r.default(0,0)},window.addEventListener("mousemove",function(u){h.cursor.position.set(u.clientX,u.clientY)},!1),h.particleSystems=[];var g=Date.now();(function(){for(var u=0,s=["webkit","moz"],a=0;a<s.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[s[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[a]+"CancelAnimationFrame"]||window[s[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var p=new Date().getTime(),y=Math.max(0,16-(p-u)),v=window.setTimeout(function(){e(p+y)},y);return u=p+y,v}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})})(),window.main=function(){n&&m.begin();var u=Date.now(),s=(u-g)/1e3;g=u,s>1&&(s=1);for(var a=0,e=h.particleSystems;a<e.length;a++){var t=e[a];t.preUpdate()}for(var p=0,y=h.particleSystems;p<y.length;p++){var t=y[p];t.update(s)}if(n){for(var v=0,w=h.particleSystems;v<w.length;v++){var t=w[v];t.debug()}m.end()}window.requestAnimationFrame(window.main)},window.main(),window.ParticleSystem=i.default,window.Tint=d.default,window.CursorMode=l.CursorMode,window.RotationMode=c.RotationMode},function(f,h){Object.defineProperty(h,"__esModule",{value:!0});var o=function(){function r(i,l){this.x=i,this.y=l,this.set(i,l)}return r.prototype.set=function(i,l){return this.x=i,this.y=l,this},r.prototype.add=function(i,l){return this.x+=i,this.y+=l,this},r.prototype.dst2=function(i,l){var c=i-this.x,d=l-this.y;return c*c+d*d},r.prototype.dst=function(i,l){return Math.sqrt(this.dst2(i,l))},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.nor=function(){var i=this.len();return i!==0&&(this.x/=i,this.y/=i),this},r.prototype.scl=function(i,l){return this.x*=i,this.y*=l,this},r.prototype.cpy=function(){return new r(this.x,this.y)},r.prototype.rotate=function(i){return this.rotateRad(i*Math.PI/180)},r.prototype.angle=function(){var i=180*Math.atan2(this.y,this.x)/Math.PI;return i<0&&(i+=360),i},r.prototype.setRotation=function(i){return this.setRotationRad(i*Math.PI/180)},r.prototype.setRotationRad=function(i){return this.set(this.len(),0),this.rotateRad(i),this},r.prototype.rotateRad=function(i){var l=Math.cos(i),c=Math.sin(i),d=this.x*l-this.y*c,n=this.x*c+this.y*l;return this.x=d,this.y=n,this},r.prototype.setAngle=function(i){return this.setAngleRad(i*Math.PI/180)},r.prototype.setAngleRad=function(i){return this.set(this.len(),0),this.rotateRad(i),this},r.prototype.equals=function(i){return this.x===i.x&&this.y===i.y},r}();h.default=o},function(f,h,o){Object.defineProperty(h,"__esModule",{value:!0});var r=o(2),i=o(2),l=o(5),c=o(3),d=o(7),n=o(8),m=o(6),g=function(){function u(s,a,e){e===void 0&&(e={});var t=this;this.cursorRelativeVector=new c.default(0,0),this.options={},this.particles=[],this.image=new Image,typeof s=="string"?this.canvas=document.getElementById(s):this.canvas=s,this.context=this.canvas.getContext("2d"),this.image.src=a,this.options=d.mergeObjects(u.defaults,e),this.lastCursorPos=new c.default(0,0),this.timer=0,this.timerThrottle=this.options.particleCreationThrottle/1e3,window.addEventListener("resize",function(){t.onResize()}),window.addEventListener("scroll",function(){t.onScroll()}),this.onResize(),this.image.onload=function(){t.canvas.addEventListener("click",function(){if(t.particles!==void 0)for(var p=0;p<t.options.addOnClickNb;p++)t.particles.push(new l.default(t,t.cursorRelativeVector.x,t.cursorRelativeVector.y,t.image))},!1),t.options.cursorMode!==m.CursorMode.Follow&&t.populate(),r.particleSystems.push(t)}}return u.prototype.populate=function(){for(var s=0;s<this.canvas.width*this.canvas.height/2e4*this.options.density&&s<this.options.maxParticles;s++)this.particles.push(new l.default(this,Math.random()*this.canvas.width,Math.random()*this.canvas.height,this.image))},u.prototype.onScroll=function(){this.canvasBoundingClient=this.canvas.getBoundingClientRect()},u.prototype.onResize=function(){this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.canvasBoundingClient=this.canvas.getBoundingClientRect()},u.prototype.onFollow=function(s){if(!this.lastCursorPos.equals(s))for(var a=0;a<this.options.density;a++){var e=Math.random(),t=Math.random();if(e<t){var p=e;e=t,t=p}var y=this.cursorRelativeVector.x+t*this.options.cursorRadius*Math.cos(2*Math.PI*e/t),v=this.cursorRelativeVector.y+t*this.options.cursorRadius*Math.sin(2*Math.PI*e/t);this.particles.push(new l.default(this,y,v,this.image))}},u.prototype.preUpdate=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},u.prototype.update=function(s){this.timer+=s,this.cursorRelativeVector.set(i.cursor.position.x-this.canvasBoundingClient.left,i.cursor.position.y-this.canvasBoundingClient.top),this.options.cursorMode===m.CursorMode.Follow&&this.timer>this.timerThrottle&&(this.onFollow(i.cursor.position),this.timer=0);for(var a=this.particles.length-1;a>=0;a--){var e=this.particles[a];e.update(s),e.draw(this.context),this.particles.length>this.options.maxParticles?(e.position.x<-e.width||e.position.x>this.canvas.width+e.width||e.position.y<-e.height||e.position.y>this.canvas.height+e.height)&&e.die():(e.position.x<-e.width?e.position.x=this.canvas.width:e.position.x>this.canvas.width+e.width&&(e.position.x=0),e.position.y<-e.height?e.position.y=this.canvas.height:e.position.y>this.canvas.height+e.height&&(e.position.y=0)),e.isAlive||this.particles.splice(a,1)}this.lastCursorPos.set(i.cursor.position.x,i.cursor.position.y)},u.prototype.debug=function(){this.context.beginPath(),this.context.fillStyle="white",this.context.arc(this.cursorRelativeVector.x,this.cursorRelativeVector.y,this.options.cursorRadius,0,2*Math.PI),this.context.stroke()},u.prototype.destroy=function(){delete r.particleSystems[r.particleSystems.indexOf(this)]},u.destroyAll=function(){r.particleSystems.splice(0)},u.defaults={maxParticles:200,velocityAngle:[0,360],speed:[20,100],cursorMode:m.CursorMode.Bounce,rotationMode:m.RotationMode.Random,rotationStartAngle:[0,360],minimumRotationSpeed:0,rotationSpeed:[50,50],rotationSpeedSizeScale:1,tints:[new n.default("#FFFFFF",0)],width:[8,32],height:[8,32],addOnClickNb:5,density:1,cursorRadius:100,particleLifeTime:0,particlePreDieTime:1,particleCreationThrottle:16},u}();h.default=g},function(f,h,o){Object.defineProperty(h,"__esModule",{value:!0});var r=o(3),i=o(6),l=o(7),c=function(){function d(n,m,g,u){this.alive=!0,this.particleSystem=n,this.psOptions=n.options;var s=Math.random();if(this.defaultWidth=this.psOptions.width[0]+s*this.psOptions.width[1],this.defaultHeight=this.psOptions.height[0]+s*this.psOptions.height[1],this.defaultSpeed=this.psOptions.speed[0]+Math.random()*(this.psOptions.speed[1]-this.psOptions.speed[0]),this.width=this.defaultWidth,this.height=this.defaultHeight,this.position=new r.default(m,g),this.velocity=new r.default(0,0),this.setRandomVelocity(),this.defaultVelocity=this.velocity.cpy(),this.defaultRotation=l.getRandomAngle(this.psOptions.rotationStartAngle[0],this.psOptions.rotationStartAngle[1]),this.rotation=this.defaultRotation,this.rotationSpeed=this.psOptions.rotationSpeed[0]+Math.random()*(this.psOptions.rotationSpeed[1]-this.psOptions.rotationSpeed[0]),this.minimumRotationSpeed=this.psOptions.minimumRotationSpeed,this.lifeTime=this.psOptions.particleLifeTime,this.currentTime=0,this.lifeOpacity=1,this.lifeScale=1,this.rotationSpeed=this.rotationSpeed/(s*this.psOptions.rotationSpeedSizeScale+1),this.rotationSpeed<0&&this.rotationSpeed>-this.minimumRotationSpeed?this.rotationSpeed=-this.minimumRotationSpeed:this.rotationSpeed>0&&this.rotationSpeed<this.minimumRotationSpeed&&(this.rotationSpeed=this.minimumRotationSpeed),this.image=u,this.tint=this.psOptions.tints[Math.floor(Math.random()*this.psOptions.tints.length)].clone(),this.tint.isActive()||this.psOptions.cursorMode==i.CursorMode.Light){this.buffer=document.createElement("canvas"),this.buffer.width=this.image.width,this.buffer.height=this.image.height;var a=this.buffer.getContext("2d");a.fillStyle=this.tint.color,a.fillRect(0,0,this.buffer.width,this.buffer.height),a.globalCompositeOperation="destination-atop",a.drawImage(this.image,0,0)}}return d.prototype.setRandomVelocity=function(){this.velocity.set(this.defaultSpeed,0),this.velocity.setAngle(l.getRandomAngle(this.psOptions.velocityAngle[0],this.psOptions.velocityAngle[1]))},d.prototype.fadeOutForDie=function(n){this.currentTime+=n,this.currentTime>this.lifeTime-this.psOptions.particlePreDieTime&&(this.lifeOpacity-=n),this.lifeOpacity<0&&(this.lifeOpacity=0),this.currentTime>this.lifeTime-this.psOptions.particlePreDieTime&&(this.lifeScale-=n),this.lifeScale<0&&(this.lifeScale=0),this.currentTime>=this.lifeTime&&this.die()},d.prototype.update=function(n){if(this.particleSystem.options.particleLifeTime>0&&this.fadeOutForDie(n),this.position.add(this.velocity.x*n,this.velocity.y*n),this.psOptions.rotationMode===i.RotationMode.FollowVelocity?this.rotation=this.velocity.angle()+this.defaultRotation:this.psOptions.rotationMode===i.RotationMode.Random&&(this.rotation+=this.rotationSpeed*n),this.psOptions.rotationMode===i.RotationMode.FollowVelocity){var m=3*n,g=this.defaultVelocity.cpy().scl(m,m);this.velocity.add(g.x,g.y).scl(1-m,1-m)}var u=this.position.dst(this.particleSystem.cursorRelativeVector.x,this.particleSystem.cursorRelativeVector.y);if(u<this.psOptions.cursorRadius)if(this.psOptions.cursorMode==i.CursorMode.Bounce){var s=this.position.cpy().add(-this.particleSystem.cursorRelativeVector.x,-this.particleSystem.cursorRelativeVector.y);this.velocity.setRotation(s.angle());var m=10*n;u>.9*this.psOptions.cursorRadius&&(m*=.2),s.scl(m,m).add(this.position.x,this.position.y),this.position.set(s.x,s.y)}else if(this.psOptions.cursorMode==i.CursorMode.Zoom){if(u>0){var a=2,e=this.defaultWidth*a;this.width=e*this.psOptions.cursorRadius/u/a,this.width>=e&&(this.width=e);var t=this.defaultWidth*a;this.height=t*this.psOptions.cursorRadius/u/a,this.height>=t&&(this.height=t)}}else this.psOptions.cursorMode==i.CursorMode.Light&&(u===0?this.tint.opacity=1:this.tint.opacity=this.psOptions.cursorRadius/u-1,this.tint.opacity>1&&(this.tint.opacity=1));else this.psOptions.cursorMode==i.CursorMode.Zoom&&(this.width=this.defaultWidth,this.height=this.defaultHeight),this.psOptions.cursorMode==i.CursorMode.Light&&(this.tint.opacity=0)},d.prototype.draw=function(n){n.save(),n.translate(this.position.x,this.position.y),n.rotate(this.rotation*Math.PI/180),n.globalAlpha=this.lifeOpacity,n.drawImage(this.image,-(this.width/2*this.lifeScale),-(this.height/2*this.lifeScale),this.width*this.lifeScale,this.height*this.lifeScale),this.tint.isActive()&&(n.globalAlpha=this.tint.opacity,n.drawImage(this.buffer,-this.width/2,-this.height/2,this.width,this.height)),n.restore()},d.prototype.die=function(){this.alive=!1},Object.defineProperty(d.prototype,"isAlive",{get:function(){return this.alive},enumerable:!0,configurable:!0}),d}();h.default=c},function(f,h){Object.defineProperty(h,"__esModule",{value:!0}),function(o){o[o.Bounce=0]="Bounce",o[o.Zoom=1]="Zoom",o[o.Light=2]="Light",o[o.Follow=3]="Follow"}(h.CursorMode||(h.CursorMode={})),function(o){o[o.None=0]="None",o[o.Random=1]="Random",o[o.FollowVelocity=2]="FollowVelocity"}(h.RotationMode||(h.RotationMode={}))},function(f,h){function o(i,l){var c={};for(var d in i)c[d]=i[d];for(var d in l)c[d]=l[d];return c}function r(i,l){var c;if(i===0)c=Math.random()*l;else{var d=(l-i+360+180)%360-180;c=(i+d*Math.random()+360)%360}return c}Object.defineProperty(h,"__esModule",{value:!0}),h.mergeObjects=o,h.getRandomAngle=r},function(f,h){Object.defineProperty(h,"__esModule",{value:!0});var o=function(){function r(i,l){this.color=i,this.opacity=l}return r.prototype.isActive=function(){return this.opacity>0},r.prototype.clone=function(){return new r(this.color,this.opacity)},r}();h.default=o}]);O.extend(V);O.extend(H);O.extend(Y);O.extend(_);const b=document.getElementById("particlesCanvas"),$=document.getElementById("titleScreen");function z(){const f=document.getElementById("homeCountdown"),h=document.getElementById("homeLocalDate"),o=document.getElementById("homeISODate");var r=O(),i=window.init.start&&O.unix(window.init.start),l=window.init.end&&O.unix(window.init.end),c=null,d="";i&&r.isBefore(i)?(c=i,d=" until start."):l&&r.isBefore(l)&&(c=l,d=" until end.");var n=c||l||i;if(n?(h.innerText=n.format("D MMM YYYY, H:mm [(]z[, UTC]Z[)]"),o.innerText=n.toISOString(),h.dateTime=o.innerText,o.dateTime=o.innerText):(h.styles.display="none",o.styles.display="none"),c===null)i===null?f.style.display="none":l===null?f.innerText="The CTF has started.":f.innerText="The CTF has ended.";else{var m=null,g=()=>{var u=c.diff(O());if(u>0){var s=O.duration(u),a=Math.floor(s.asDays()),e=Math.floor(s.asHours()),t=a>=3?`${a}d ${s.format("HH[h] mm[m] ss[s]")}`:s.asHours()>=1?`${e}h ${s.format("mm[m] ss[s]")}`:s.format("mm[m] ss[s]");f.innerText=t+d,f.dateTime=s.toISOString()}else clearInterval(m),z()};g(),m=setInterval(g,1e3)}}function q(){document.body.classList.add("titleScreenVisible"),$.classList.remove("hidden"),window.localStorage.setItem("luna_showTitleScreen","true");const f={width:[40,100],height:[20,50],density:.1,speed:[60,80],cursorMode:null,rotationMode:RotationMode.Random,velocityAngle:[180+40,180+50],rotationSpeed:[30,100],tints:[new Tint("#F5C0F3",1),new Tint("#C3F5FD",1),new Tint("#FEF79F",1)],addOnClickNb:0};new ParticleSystem(b,PartileAssets.pattern1,f),new ParticleSystem(b,PartileAssets.pattern2,f),new ParticleSystem(b,PartileAssets.pattern3,{...f,width:[150,200],height:[75,100],tints:[new Tint("#F5C0F3",.5),new Tint("#C3F5FD",.5),new Tint("#FEF79F",.5),new Tint("#F5C0F3",.25),new Tint("#C3F5FD",.25),new Tint("#FEF79F",.25)]})}function D(f=!1){if(window.localStorage.setItem("luna_showTitleScreen","false"),f){if($.classList.contains("splash-exit"))return;$.classList.add("splash-exit"),setTimeout(()=>{document.body.classList.remove("titleScreenVisible"),$.classList.add("hidden"),$.classList.remove("splash-exit"),ParticleSystem.destroyAll()},2e3)}else document.body.classList.remove("titleScreenVisible"),$.classList.add("hidden"),ParticleSystem.destroyAll()}function E(){var f=window.localStorage.getItem("luna_showTitleScreen");f===null&&(f="true",window.localStorage.setItem("luna_showTitleScreen","true")),f==="true"?q():D(!1),$.addEventListener("click",()=>D(!0))}E(),z(),B(document.querySelectorAll("[data-tippy-lyrics]"),{content:LyricsContent,theme:"lunaDefault",allowHTML:!0,placement:"bottom-start",arrow:!1});
